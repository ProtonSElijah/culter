(this.webpackJsonpculter=this.webpackJsonpculter||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);n(94),n(122),n(124),n(125),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164);var a=n(0),r=n.n(a),c=n(65),s=n.n(c),i=n(20),o=n.n(i),l=n(3),u=n.n(l),m=n(7),p=n(9),f=(n(173),function(e){var t=e.text;return r.a.createElement("div",{className:"App-header"},r.a.createElement("p",null,t.toUpperCase()))}),h=function(e){e.stateList;var t=e.stateRefresh,n=e.matchedList,a=e.friendsList,c=function(e){document.getElementById("matchedButton").classList.toggle("NavigationButtonsActive",e),document.getElementById("friendsButton").classList.toggle("NavigationButtonsActive",!e),document.getElementById("matchedButton").classList.toggle("NavigationButtonsDefault",!e),document.getElementById("friendsButton").classList.toggle("NavigationButtonsDefault",e)};return r.a.createElement("div",{className:"NavigationButtons"},r.a.createElement("button",{id:"matchedButton",className:"NavigationButtonsActive",onClick:function(){t(!0),c(!0)}},n.length," \u043b\u044e\u0434\u0435\u0439"),r.a.createElement("button",{id:"friendsButton",className:"NavigationButtonsDefault",onClick:function(){t(!1),c(!1)}},a.length," \u0434\u0440\u0443\u0433"))},d=function(e){return e.list.map((function(e){return r.a.createElement("div",{className:"ScrollContainerContent",key:e.key},r.a.createElement("div",{className:"ScrollPerson"},r.a.createElement("img",{src:e.imgLink,alt:"Person",className:"ScrollPeopleImg"}),r.a.createElement("div",null,e.firstName),r.a.createElement("div",{className:"Cirle"},e.commonPlacesCount)))}))},v=function(e){var t=e.list,n="\u042f \u043e \u043c\u043e\u0451\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438";return t.map((function(e){return r.a.createElement("div",{className:"PersonContainer"},r.a.createElement("div",{className:"Person",key:e.key},r.a.createElement("img",{src:e.imgLink,alt:"Person photo"}),r.a.createElement("div",{className:"PersonData"},r.a.createElement("div",{className:"PersonName"},r.a.createElement("b",null,e.firstName+" "+e.lastName)),n.length>26&&r.a.createElement("div",{className:"PersonPlacesList"},n.slice(0,26)+".."),!(n.length>26)&&r.a.createElement("div",{className:"PersonPlacesList"},n))),r.a.createElement("div",{className:"BottomLine"}))}))},E=(n(174),function(e){var t=e.go,n=e.left,a=e.right;return r.a.createElement("div",{className:"App-bottom"},r.a.createElement("div",{className:"BottomLeftButton",onClick:t,"data-to":n},r.a.createElement("div",null)),r.a.createElement("div",{className:"BottomRightButton",onClick:t,"data-to":a},r.a.createElement("div",null)))}),g=(n(61),n(175),[{key:"1",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"2",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"3",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"4",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"5",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"6",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"7",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"8",imgLink:"https://sun9-45.userapi.com/c854528/v854528685/d255a/ooAN1guMTAc.jpg",firstName:"\u0414\u0430\u043d\u0438\u043b\u0430",lastName:"\u0421\u0435\u0440\u0433\u0430\u0447\u0435\u0432",commonPlacesCount:1,commonPlaces:["\u0420\u043e\u043a"]},{key:"9",imgLink:"https://sun9-44.userapi.com/c848536/v848536553/153b99/ypLiVUE1jZA.jpg",firstName:"\u0418\u043b\u044c\u044f",lastName:"\u041a\u0443\u0440\u043d\u0430\u043a\u043e\u0432",commonPlacesCount:1,commonPlaces:["\u0422\u0440\u0435\u043f"]}]),b=[{key:"0",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]}],S=n(26),y=n.n(S),j=function(e){var t=e.id,n=e.go,c=Object(a.useState)("true"),s=Object(p.a)(c,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(y.a,{id:t},r.a.createElement(f,{text:t}),r.a.createElement("div",{className:"Head"},r.a.createElement("p",null,"\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f")),r.a.createElement(h,{stateList:i,stateRefresh:function(e){o(e)},matchedList:g,friendsList:b}),r.a.createElement("div",{className:"ScrollContainer"},r.a.createElement(d,{list:i?g:b})),r.a.createElement("div",{className:"Head"},r.a.createElement("p",null,"\u0414\u0438\u0430\u043b\u043e\u0433\u0438")),r.a.createElement("div",{className:"ListContainer"},r.a.createElement(v,{list:i?g:b})),r.a.createElement(E,{go:n,left:"swipe",right:"personal"}))},N=(n(191),n(44)),w=n(45),O=n(47),k=n(46),x=n(27),P=n(48),I=(n(192),n(193),function(e){var t=e.horizontalShift,n=e.verticalShift,a=e.hasMargin,c=e.isUpperTouch,s=e.cardInfo,i={transform:"rotate("+(c?-1:1)*t/15+"deg) translate("+t+"px, "+n+"px)",transition:e.isTransition?"0.2s":""};a&&(i["margin-top"]="-80vmax");var o=Math.min(Math.abs(t)/50,1),l={left:{opacity:t<0?o:0},right:{opacity:t>0?o:0}};return r.a.createElement("div",{className:"Swipe-content",style:i},r.a.createElement("div",{className:"Swipe-content-up"},r.a.createElement("div",{className:"Swipe-content-up-labels"},r.a.createElement("div",{style:l.right,className:"Swipe-right-label choice-label"},"\u041a\u0440\u0443\u0442\u043e"),r.a.createElement("div",{style:l.left,className:"Swipe-left-label choice-label"},"\u041e\u0442\u0441\u0442\u043e\u0439")),r.a.createElement("img",{className:"Swipe-content-up-image",src:s.images[0].image})),r.a.createElement("div",{className:"Swipe-content-down"},r.a.createElement("p",{id:"Font-bold"},r.a.createElement("b",null,s.short_title)),r.a.createElement("p",null,r.a.createElement("b",null,"4")," \u0430\u043f\u0440\u0435\u043b\u044f, \u0441\u0443\u0431\u0431\u043e\u0442\u0430, ",r.a.createElement("b",null,"20:00")),r.a.createElement("p",null,r.a.createElement("b",null,"20")," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0438\u0434\u0451\u0442 - ",r.a.createElement("b",null,"1")," \u0434\u0440\u0443\u0433")))}),C=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(O.a)(this,Object(k.a)(t).call(this,e))).componentDidMount=function(){n.setState({height:650})},n.onTouch=function(e){for(var t=e.changedTouches,a=0;a<t.length;a++){var r=n.state.currentX,c=n.state.currentY,s={currentX:t[a].clientX,currentY:t[a].clientY};n.state.isFirstTouch?(s.isUpperTouch=t[a].clientY>n.state.height/2,s.isFirstTouch=!1):(s.horizontalShift=n.state.horizontalShift+t[a].clientX-r,s.verticalShift=n.state.verticalShift+t[a].clientY-c),n.setState(s)}},n.onTouchStart=function(e){e.preventDefault(),n.setState({isFirstTouch:!0,isSwiping:!0,isTransition:!1})},n.onTouchEnd=function(e){if(Math.abs(n.state.horizontalShift)>100){var t=n.state.horizontalShift>0;n.setState({isTransition:!0}),n.setState({horizontalShift:5*n.state.horizontalShift,verticalShift:5*n.state.verticalShift});var a=Object(x.a)(n);setTimeout((function(){a.setState({isTransition:!1,horizontalShift:0,verticalShift:0,currentX:0,currentY:0}),a.props.onSwipeEnd(t)}),400)}else n.setState({horizontalShift:0,verticalShift:0,currentX:0,currentY:0,isSwiping:!1,isTransition:!0})},n.state={currentX:0,currentY:0,horizontalShift:0,verticalShift:0,isFirstTouch:!0,isSwiping:!1,height:0},n.viewRef=r.a.createRef(),n}return Object(P.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{ref:this.viewRef,className:"Swipe-main",onTouchMove:this.onTouch,onTouchEnd:this.onTouchEnd,onTouchStart:this.onTouchStart},r.a.createElement(I,{cardInfo:this.props.cardInfo,isSwiping:this.state.isSwiping,horizontalShift:this.state.horizontalShift,verticalShift:this.state.verticalShift,isUpperTouch:this.state.isUpperTouch,isTransition:this.state.isTransition}))}}]),t}(a.Component),T=n(25);function L(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.url+"/user/"+t+"/events/ratings",e.next=3,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{event_id:n,is_liked:a}])});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(O.a)(this,Object(k.a)(t).call(this,e))).onSwipeEnd=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(this.props.user.id,this.props.events[this.state.currentIndex].id,t),5===this.state.currentIndex&&this.props.loadEvents(),9!==this.state.currentIndex){e.next=5;break}return e.next=5,this.props.updateEvents();case 5:this.setState({currentIndex:this.nextIndex()});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.nextIndex=function(){return 9===n.state.currentIndex?0:n.state.currentIndex+1},n.state={currentIndex:0},n.onSwipeEnd=n.onSwipeEnd.bind(Object(x.a)(n)),n}return Object(P.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return 0!==this.props.events.length?r.a.createElement("div",null,r.a.createElement(C,{cardInfo:this.props.events[this.state.currentIndex],onSwipeEnd:this.onSwipeEnd}),r.a.createElement(I,{hasMargin:!0,cardInfo:this.props.events[this.nextIndex()]})):r.a.createElement("div",null)}}]),t}(a.Component);function _(e){return z.apply(this,arguments)}function z(){return(z=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.url+"/user/"+t+"/events/selection?category_id=1&category_id=6","test"==t&&(n=T.url+"/user/"+t+"/events"),e.next=4,fetch(n,{method:"GET"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=e.id,n=e.go,c=e.user,s=Object(a.useState)([]),i=Object(p.a)(s,2),o=i[0],l=i[1],h=Object(a.useState)([]),d=Object(p.a)(h,2),v=d[0],g=d[1],b=Object(a.useState)([]),S=Object(p.a)(b,2),j=(S[0],S[1],Object(a.useState)(!1)),N=Object(p.a)(j,2);N[0],N[1];function w(){return(w=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(c.id);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,g(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(v);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==c){e.next=8;break}return e.next=3,_(c.id);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==c){e.next=9;break}return e.next=3,_(c.id);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),l(n.content);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("hello"),function(){e.apply(this,arguments)}()}),[c]),r.a.createElement(y.a,{id:t},r.a.createElement(f,{text:t}),r.a.createElement("div",{className:"HeaderLine"}),r.a.createElement(A,{userId:c,events:o,loadEvents:function(){return w.apply(this,arguments)},updateEvents:function(){return O.apply(this,arguments)}}),r.a.createElement(E,{go:n,left:"personal",right:"matches"}))},U=n(92),X=n.n(U),M=(n(194),function(e){var t=e.id,n=e.go,c=Object(a.useState)(null),s=Object(p.a)(c,2),i=s[0],l=s[1],h=Object(a.useState)(null),d=Object(p.a)(h,2),v=d[0],g=d[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetAuthToken",{app_id:7197573,scope:"friends"});case 2:t=e.sent,g(t.access_token);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[]),r.a.createElement(y.a,{id:t},r.a.createElement(f,{text:t}),r.a.createElement("div",{className:"PersonalContent"},r.a.createElement("div",{className:"PersonalBlock"},i&&r.a.createElement("div",{className:"PersonalData"},r.a.createElement("img",{src:i.photo_200?i.photo_200:null,alt:"Person"}),r.a.createElement("p",null,i.first_name?i.first_name:"",i.last_name?" "+i.last_name:""),v&&r.a.createElement("p",null,v)))),r.a.createElement(E,{go:n,left:"matches",right:"swipe"}))});n(195);function Y(e,t){return J.apply(this,arguments)}function J(){return(J=Object(m.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(T.url,"/user/identify?user_id=").concat(t,"&access_token=").concat(n),e.next=3,fetch(a,{method:"GET"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var e=Object(a.useState)("panels"),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),i=Object(p.a)(s,2),l=i[0],f=i[1],h=Object(a.useState)(1),d=Object(p.a)(h,2),v=(d[0],d[1],Object(a.useState)(!1)),E=Object(p.a)(v,2),g=(E[0],E[1],function(e){c(e.currentTarget.dataset.to)});return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetUserInfo");case 2:return t=e.sent,f(t),e.next=6,Y(t.id);case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then()}),[]),r.a.createElement(X.a,{activePanel:n},r.a.createElement(M,{id:"personal",go:g}),r.a.createElement(D,{user:l,id:"swipe",go:g}),r.a.createElement(j,{id:"matches",go:g}))};o.a.send("VKWebAppInit"),s.a.render(r.a.createElement(R,null),document.getElementById("root"))},25:function(e){e.exports=JSON.parse('{"url":"http://localhost:8080/culter"}')},61:function(e,t,n){},93:function(e,t,n){e.exports=n(200)}},[[93,1,2]]]);
//# sourceMappingURL=main.8876e3c3.chunk.js.map