{"version":3,"sources":["assets/icons/filter.svg","assets/icons/chatGrey.svg","assets/icons/peopleGrey.svg","assets/icons/gridGrey.svg","assets/icons/eventsGrey.svg","assets/icons/userGrey.svg","assets/icons/gridRed.svg","assets/icons/userRed.svg","assets/defaultEventImage.jpg","assets/preloader.svg","assets/icons/messageRed.svg","assets/icons/matchesArrow.svg","Components/Header.js","redux/actions/panel-actions.js","redux/reducers/events-reducer.js","redux/reducers/user-reducer.js","redux/reducers/people-reducer.js","redux/reducers/panel-reducer.js","redux/reducers/matches-reducer.js","redux/reducers/combine.js","redux/store/store.js","Components/BottomButton.js","Components/Bottom.js","panels/Personal.js","Components/View/EventInformationView.js","Components/View/PersonInformationView.js","Components/View/ChoiceLabelsView.js","Components/View/EventEndView.js","Components/View/PeopleEndView.js","Components/View/CardView.js","Components/Card.js","Components/Deck.js","redux/actions/events-actions.js","Api/Utils.js","Api/Events.js","services/Events.js","redux/actions/matches-actions.js","Api/Ratings.js","services/Ratings.js","panels/Events.js","Components/MatchedScrollList.js","Components/CommonEventsList.js","Components/MatchedList.js","Api/Matches.js","services/Matches.js","panels/Matches.js","Components/GridEventList.js","panels/Grid.js","redux/actions/people-actions.js","Api/People.js","services/People.js","panels/People.js","redux/actions/user-actions.js","Api/Auth.js","services/Auth.js","AppCulter.js","index.js","assets/icons/chatRed.svg","assets/icons/peopleRed.svg","assets/icons/eventsRed.svg"],"names":["module","exports","Header","panelTitle","panelId","className","src","IconFilter","alt","changePanel","panel","type","initialState","events","page","size","index","state","action","concat","user","people","Math","trunc","length","receivedPeople","peopleCount","shiftIndex","newPeople","slice","active","panels","matches","eventsPageSize","updateUserById","otherUserId","predicate","matchedUserId","findIndex","match","id","updatedMatches","receivedMatches","matchesCount","newMatches","newEvents","matchedUser","commonEvents","eventsCount","commonEventsCount","count_common_events","reducers","combineReducers","eventsState","eventsReducer","userState","userReducer","peopleState","peopleReducer","panelState","panelReducer","matchesState","matchesReducer","store","createStore","BottomButton","activePanel","activeImage","disabledImage","onClick","text","data-to","Bottom","useSelector","onChangePanelClick","event","dispatch","currentTarget","dataset","to","personal","userActive","userDisabled","grid","gridActive","gridDisabled","eventsActive","eventsDisabled","peopleActive","peopleDisabled","chatActive","chatDisabled","Personal","useEffect","a","async","document","getElementById","children","style","paddingTop","body","setProperty","photo_200","first_name","last_name","EventInformationView","isDateProvided","start_date","start_time","date","time","week","day","Date","toLocaleDateString","weekday","month","short_title","PersonInformationView","person","horizontalShift","labelOpacity","min","abs","labelStyles","left","opacity","right","EventEndView","peopleIcon","chatIcon","PeopleEndView","eventsIcon","CardView","swipeInfo","cardInfo","hasMargin","contentStyle","verticalShift","isUpperTouch","isTransition","isEnd","hasOwnProperty","isEventEnd","isEventCard","imageSource","defaultImage","images","image","photo_400_orig","ChoiceLabelsView","Card","onSwipeEnd","shiftDict","elem","currentX","currentY","isFirstTouch","isSwiping","shift","updateStyle","firstChild","rotation","transform","transition","updateByTouch","touch","previousX","previousY","clientX","clientY","animatePick","resetCard","withTransition","onTouchMove","touches","changedTouches","i","onTouchEnd","isLike","setTimeout","onTouchStart","Deck","setIndex","cards","loadCards","setRateBy","isEventDeck","topCardIndex","bottomCardIndex","endCard","isValidResponse","response","status","fetchEventsRequest","userId","categories","is_personal","url","buildUrl","getPageableEventsByUrl","fetchCommonEventsRequest","buildUrlForCommonEvents","fetch","method","json","eventsJson","content","forEach","item","imageItem","config","images_url","categoriesParameter","join","fetchEvents","isReload","requestState","getState","updateEventsState","updateCommonEventsCountState","totalElementsCount","updateCommonEventsCount","updateCommonEventsState","updateCommonEvents","load","setEventRateCall","eventId","isLiked","headers","JSON","stringify","event_id","is_liked","setUserRateCall","user_id","setEventRate","getUserId","setUserRate","Events","useState","isLoading","setIsLoading","loadEvents","then","spinner","MatchedScrollList","list","toVKProfile","e","location","href","userid","map","key","data-userid","CommonEventsList","place_short_title","MatchedList","currentOPenBlock","setCurrentOPenBlock","openEvents","toggleCommonEvents","height","parentElement","isHidden","find","totalElements","fetchCommonEvents","parseInt","target","isClosed","arrow","getElementsByClassName","classList","add","remove","toVKChat","data-id","matchesArrow","fetchMatchesCall","newMatchesJson","setUpEmptyCommonEvents","updateEmptyImages","fetchMatches","updateStore","Matches","GridEventList","data","handleClick","Number","product","data-name","name","data-index","Grid","categoriesId","setCategoriesId","onModal","modal","visibility","onChangeFilterItemState","isactive","splice","indexOf","toggle","onScroll","scrollHeight","clientHeight","scrollTop","err","console","log","data-isactive","fetchPeopleCall","newPeopleJson","fetchPeople","People","loadPeople","setAuthorizedUser","authorizeRequest","authorize","AppCulter","is_dev","settings","connect","sendPromise","fetchedUser","fetchData","send","ReactDOM","render"],"mappings":"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","file":"static/js/main.8ef4a1d5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/filter.84137ab6.svg\";","module.exports = __webpack_public_path__ + \"static/media/chatGrey.01b80399.svg\";","module.exports = __webpack_public_path__ + \"static/media/peopleGrey.89b02bab.svg\";","module.exports = __webpack_public_path__ + \"static/media/gridGrey.e698b3c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/eventsGrey.451737d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/userGrey.7612f005.svg\";","module.exports = __webpack_public_path__ + \"static/media/gridRed.2dc70435.svg\";","module.exports = __webpack_public_path__ + \"static/media/userRed.2079daaf.svg\";","module.exports = __webpack_public_path__ + \"static/media/defaultEventImage.ca717777.jpg\";","module.exports = __webpack_public_path__ + \"static/media/preloader.3c9d0119.svg\";","module.exports = __webpack_public_path__ + \"static/media/messageRed.5d681222.svg\";","module.exports = __webpack_public_path__ + \"static/media/matchesArrow.24f07fbc.svg\";","import React from 'react';\nimport './ComponentsStyle/Header.css';\n\nimport IconFilter from '../assets/icons/filter.svg';\n\nconst Header = ({panelId}) => {\n    let panelTitle = \"\";\n    switch (panelId) {\n        case \"personal\": panelTitle = \"Профиль\"; break;\n        case \"grid\": panelTitle = \"События\"; break;\n        case \"events\": panelTitle = \"События\"; break;\n        case \"people\": panelTitle = \"Люди\"; break;\n        case \"matches\": panelTitle = \"Диалоги\"; break;\n    }\n    return (\n        <div className=\"App-header\">\n            <div className=\"App-header-content\">\n                <p>{\"Culter\"}</p>\n            </div>\n            <div className=\"App-header-panelTitle\">\n                <p>{panelTitle}</p>\n                <img src={IconFilter} alt=\"filter\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Header;\n","export function changePanel(panel){\n    return {\n        type: \"CHANGE_PANEL\",\n        panel\n    }\n}\n","const initialState = {\n    events: [],\n    page: 0,\n    size: 20,\n    index: 0\n};\nfunction events(state=initialState, action){\n    switch(action.type){\n        case \"RELOAD\":\n            state.events = action.events;\n            state.page = 1;\n            return state;\n        case \"LOAD\":\n            state.events = state.events.concat(action.events);\n            state.page = state.page + 1;\n            return state;\n        case \"SET_INDEX\":\n            state.index = action.index;\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default events;\n","const initialState = {\n    user: null\n};\n\nfunction user(state=initialState, action){\n    switch(action.type){\n        case \"SET_AUTHORIZED_USER\":\n            state.user = action.user;\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default user;\n","const initialState = {\n    people: [],\n    page: 0,\n    size: 20,\n    index: 0\n};\n\nfunction people(state=initialState, action){\n    switch(action.type){\n        case \"PEOPLE_RELOAD\":\n            state.people = state.people.concat(action.people);\n            state.page = Math.trunc(state.people.length / state.size);\n            return state;\n        case \"PEOPLE_LOAD\":\n            let receivedPeople = action.people;\n            let peopleCount = receivedPeople.length;\n            let shiftIndex = state.people.length % state.size;\n            let newPeople = receivedPeople.slice(shiftIndex, peopleCount);\n\n            state.people = state.people.concat(newPeople);\n            state.page = Math.trunc(state.people.length / state.size);\n            return state;\n        case \"PEOPLE_SET_INDEX\":\n            state.index = action.index;\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default people;\n","const initialState = {\n    active: \"events\"\n};\nfunction panels(state=initialState, action){\n    switch(action.type){\n        case \"CHANGE_PANEL\":\n            state.active = action.panel;\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default panels;\n","const initialState = {\n    matches: [],\n    page: 0,\n    size: 15,\n    eventsPageSize: 10\n};\n\nfunction matches(state = initialState, action) {\n    switch (action.type) {\n        case \"MATCHES_RELOAD\":\n            state.matches = state.matches.concat(action.matches);\n            state.page = Math.trunc(state.matches.length / state.size);\n            return state;\n        case \"MATCHES_LOAD\": {\n            let receivedMatches = action.matches;\n            let matchesCount = receivedMatches.length;\n            let shiftIndex = state.matches.length % state.size;\n            let newMatches = receivedMatches.slice(shiftIndex, matchesCount);\n\n            state.matches = state.matches.concat(newMatches);\n            state.page = Math.trunc(state.matches.length / state.size);\n            return state;\n        }\n\n        case  \"UPDATE_COMMON_EVENTS\": {\n            let otherUserId = action.otherUserId;\n            let events = action.newEvents;\n\n            state = updateUserById(state, otherUserId, (matchedUser) =>{\n                matchedUser.commonEvents = events\n            });\n            return state;\n        }\n        case \"UPDATE_COUNT_COMMON_EVENTS\": {\n            let otherUserId = action.otherUserId;\n            let eventsCount = action.commonEventsCount;\n\n            state = updateUserById(state, otherUserId, (matchedUser) =>{\n                matchedUser.count_common_events = eventsCount\n            });\n            return state;\n        }\n        default:\n            return state;\n    }\n}\n\nfunction updateUserById(state, otherUserId, predicate) {\n    let matchedUserId = state.matches.findIndex((match) => match.id === otherUserId);\n    let updatedMatches = state.matches.slice();\n\n    predicate(updatedMatches[matchedUserId]);\n    state.matches = updatedMatches;\n\n    return state;\n}\n\nexport default matches;\n","import {combineReducers} from \"redux\"\nimport eventsReducer from './events-reducer';\nimport userReducer from './user-reducer';\nimport peopleReducer from \"./people-reducer\";\nimport panelReducer from \"./panel-reducer\";\nimport matchesReducer from \"./matches-reducer\";\n\nconst reducers = combineReducers({\n    eventsState: eventsReducer,\n    userState: userReducer,\n    peopleState: peopleReducer,\n    panelState: panelReducer,\n    matchesState: matchesReducer\n});\n\nexport default reducers;\n","import {createStore} from 'redux';\nimport reducers from '../reducers/combine'\n\n\nconst store = createStore(reducers);\n\nexport default store;","import React from 'react';\nimport './ComponentsStyle/Bottom.css';\n\nconst BottomButton = ({panel, activePanel, activeImage, disabledImage, onClick, text }) => {\n    return (\n        <div className=\"Bottom-button\" onClick={onClick}\n             data-to={panel}>\n            <img src={activePanel === panel ? activeImage : disabledImage} alt={panel} />\n            <p className={activePanel === panel ? 'active' : ''}>{text}</p>\n        </div>\n    );\n};\n\nexport default BottomButton;\n","import React from 'react';\nimport './ComponentsStyle/Bottom.css';\n\nimport chatDisabled from \"../assets/icons/chatGrey.svg\";\nimport peopleDisabled from \"../assets/icons/peopleGrey.svg\";\nimport gridDisabled from \"../assets/icons/gridGrey.svg\";\nimport eventsDisabled from \"../assets/icons/eventsGrey.svg\";\nimport userDisabled from \"../assets/icons/userGrey.svg\";\n\nimport chatActive from \"../assets/icons/chatRed.svg\";\nimport peopleActive from \"../assets/icons/peopleRed.svg\";\nimport gridActive from \"../assets/icons/gridRed.svg\";\nimport eventsActive from \"../assets/icons/eventsRed.svg\";\nimport userActive from \"../assets/icons/userRed.svg\";\n\nimport {changePanel} from \"../redux/actions/panel-actions\";\nimport store from \"../redux/store/store\";\nimport panels from \"../panels.json\";\nimport BottomButton from \"./BottomButton\";\nimport {useSelector} from \"react-redux\";\n\nconst Bottom = () => {\n    const activePanel = useSelector(state => state.panelState.active);\n    const onChangePanelClick = (event) => {\n        store.dispatch(changePanel(event.currentTarget.dataset.to))\n    };\n\n    return (\n\n        <div className=\"App-bottom\">\n            <BottomButton onClick={onChangePanelClick} panel={panels.personal} activePanel={activePanel}\n                          activeImage={userActive} disabledImage={userDisabled} text='Профиль'/>\n            <BottomButton onClick={onChangePanelClick} panel={panels.grid} activePanel={activePanel}\n                          activeImage={gridActive} disabledImage={gridDisabled} text='Подборки'/>\n            <BottomButton onClick={onChangePanelClick} panel={panels.events} activePanel={activePanel}\n                          activeImage={eventsActive} disabledImage={eventsDisabled} text='События'/>\n            <BottomButton onClick={onChangePanelClick} panel={panels.people} activePanel={activePanel}\n                          activeImage={peopleActive} disabledImage={peopleDisabled} text='Люди'/>\n            <BottomButton onClick={onChangePanelClick} panel={panels.matches} activePanel={activePanel}\n                          activeImage={chatActive} disabledImage={chatDisabled} text='Совпадения'/>\n        </div>\n    );\n    //Переключатель - две кнопки\n    /*<div className=\"BottomLeftButton\" onClick=onChangePanelClick data-to={left}><div></div></div>\n    <div className=\"BottomRightButton\" onClick=onChangePanelClick data-to={right}><div></div></div>*/\n};\n\nexport default Bottom;\n","import React, { useEffect } from 'react';\nimport { useSelector } from \"react-redux\";\nimport Header from \"../Components/Header\";\nimport Bottom from \"../Components/Bottom\";\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport './panelsStyle/Personal.css';\n\n\nconst Personal = ({id}) => {\n    const user = useSelector(state => state.userState.user);\n\n    useEffect(() => {\n        async function refreshHeaderVK() {\n            document.getElementById(id).children[0].style.paddingTop = 0;\n            document.body.style.setProperty('--background_page', 'white');\n        }\n        refreshHeaderVK();\n\n        // async function fetchToken(){\n        //     let tokenObject = await connect.sendPromise(\"VKWebAppGetAuthToken\", {\n        //         \"app_id\": lol, \"scope\": \"friends\"});\n        //     setToken(tokenObject.access_token);\n        // }\n        //fetchToken();\n    }, []);\n\n    return (\n        <Panel id={id}>\n            <Header panelId={id}/>\n            <div className=\"PersonalContent\">\n                <div className=\"PersonalBlock\">\n                       {user &&\n                        <div className=\"PersonalData\">\n                           <img src={user.photo_200 ? user.photo_200 : null} alt=\"Person\"/>\n\n                           <p>{user.first_name ? user.first_name : \"\"}</p>\n                           <p>{user.last_name ? (\" \" + user.last_name) : \"\" }</p>\n\n                            {\n                               /* token &&\n                                <p>\n                                    {token}\n                                </p>*/\n                            }\n                        </div>\n                        }\n                </div>\n            </div>\n            <Bottom/>\n        </Panel>\n    );\n};\n\nexport default Personal;\n","import React from 'react';\nimport '../ComponentsStyle/CardView.scss'\n\nconst EventInformationView = ({event}) => {\n    let isDateProvided = event.start_date && event.start_time;\n\n    let date = \"\";\n    let time = \"\";\n    let week = \"\";\n    let day = \"\";\n\n    if (isDateProvided) {\n        time = event.start_time.slice(0,event.start_time.length-3);\n        date = new Date(event.start_date);\n        week = date.toLocaleDateString(\"ru-Ru\", { weekday: 'long' });\n        day = date.toLocaleDateString(\"ru-Ru\", { month: 'long', day: 'numeric'});\n    }\n\n    return  (\n        <div className=\"Swipe-content-down-container\">\n\n            <div className=\"Swipe-content-down-center\">\n                <p>{event.short_title}</p>\n                <div className=\"Swipe-content-down-center-date\">\n                    {isDateProvided &&\n                    <p> {day}</p>}\n                    {isDateProvided &&\n                    <p>{time} {week} </p>\n                     }\n                 </div>\n            </div>\n\n        </div>\n    )\n\n};\n\nexport default EventInformationView;\n","import React from 'react';\nimport '../ComponentsStyle/CardView.scss'\n\nconst PersonInformationView = ({person}) => {\n\n\n    return  (\n\n        <div className=\"Swipe-content-down-container\">\n\n            <div className=\"Swipe-content-down-center user\">\n                <p>{person.first_name}</p>\n\n                <p>Общих событий: <b>{person.count_common_events}</b></p>\n   \n            </div>\n\n        </div>\n    )\n\n};\n\nexport default PersonInformationView;\n","import React from 'react';\nimport '../ComponentsStyle/CardView.scss'\n\n\nconst EventInformationView = ({horizontalShift}) => {\n\n    let labelOpacity = Math.min(Math.abs(horizontalShift) / 50,1);\n    let labelStyles = {\n        left :{\n            opacity: horizontalShift < 0 ? labelOpacity : 0\n        },\n        right :{\n            opacity: horizontalShift > 0 ? labelOpacity : 0\n        }};\n    \n    return  (\n\n        <div className=\"Swipe-content-up-labels\">\n\n            <div style={labelStyles.right} className=\"Swipe-right-label choice-label\">\n                Like\n            </div>\n\n            <div style={labelStyles.left} className=\"Swipe-left-label choice-label\">\n                Pass\n            </div>\n        </div>\n    )\n\n};\n\nexport default EventInformationView;\n\n","import React from 'react';\nimport '../ComponentsStyle/CardView.scss'\n\nimport peopleIcon from '../../assets/icons/peopleRed.svg';\nimport chatIcon from '../../assets/icons/chatRed.svg';\n\nconst EventEndView = () => {\n\n\n    return  (\n        <div className=\"Swipe-content-down-container\">\n            <div className=\"Swipe-content-down-center\">\n                <p>События закончились</p>\n                <p><div className=\"Swipe-content-down-image\"><img src={peopleIcon}  alt=\"people icon\"/></div>&nbsp; Найди компанию на ивент</p>\n                <p><div className=\"Swipe-content-down-image\"><img src={chatIcon} alt=\"chat icon\" /></div>&nbsp; Позови людей на ивент</p>\n            </div>\n        </div>\n    )\n\n};\n\nexport default EventEndView;\n","import React from 'react';\nimport '../ComponentsStyle/CardView.scss'\n\nimport eventsIcon from '../../assets/icons/eventsRed.svg';\nimport chatIcon from '../../assets/icons/chatRed.svg';\n\nconst PeopleEndView = () => {\n\n\n    return  (\n        <div className=\"Swipe-content-down-container\">\n            <div className=\"Swipe-content-down-center\">\n                <p>Люди закончились</p>\n                <p><div className=\"Swipe-content-down-image\"><img src={eventsIcon}  alt=\"events icon\"/></div>&nbsp; Выбери куда пойти</p>\n                <p><div className=\"Swipe-content-down-image\"><img src={chatIcon} alt=\"chat icon\" /></div>&nbsp; Позови людей на ивент</p>\n            </div>\n        </div>\n    )\n\n};\n\nexport default PeopleEndView;\n","import React from 'react';\nimport '../ComponentsStyle/CardView.scss'\nimport EventInformationView from './EventInformationView';\nimport PersonInformationView from './PersonInformationView';\nimport ChoiceLabelsView from './ChoiceLabelsView';\nimport EventEndView from \"./EventEndView\";\nimport PeopleEndView from \"./PeopleEndView\";\n\nimport defaultImage from \"../../assets/defaultEventImage.jpg\";\n\nconst CardView = ({swipeInfo, cardInfo}) => {\n    let hasMargin = swipeInfo.hasMargin;\n    let horizontalShift = swipeInfo.horizontalShift;\n    let verticalShift = swipeInfo.verticalShift;\n    let isUpperTouch = swipeInfo.isUpperTouch;\n    let isTransition = swipeInfo.isTransition;\n\n    // let rotationCoefficient = isUpperTouch ? -1 : 1;\n    // let rotation = rotationCoefficient * horizontalShift / 15 ;\n    // let contentStyle = {\n    //         \"transform\": \"rotate(\" + rotation + \"deg)\" +\n    //             \" translate(\"+ horizontalShift + \"px, \"+ verticalShift + \"px)\",\n    //         \"transition\" : isTransition ? \"0.2s\" : \"\"\n    //     };\n\n    let contentStyle = {};\n    if (hasMargin){\n        contentStyle[\"position\"] = \"absolute\";\n        contentStyle[\"zIndex\"] = \"10\";\n    }\n\n    let isEnd = cardInfo.hasOwnProperty(\"isEnd\");\n    let isEventEnd = isEnd && cardInfo[\"end_type\"];\n\n    let isEventCard = cardInfo.hasOwnProperty(\"short_title\");\n\n    let imageSource = isEnd ? defaultImage :\n            isEventCard ? cardInfo.images[0].image : cardInfo.photo_400_orig ;\n\n\n    return  (\n\n        <div className=\"Swipe-content\" style={contentStyle}>\n\n            <div className=\"Swipe-content-up\">\n                <ChoiceLabelsView horizontalShift={horizontalShift} />\n\n                <img className=\"Swipe-content-up-image\" src={imageSource} alt=\"Card\"/>\n                <div className=\"shadow\"></div>\n\n\n                <div className=\"Swipe-content-down\">\n                    {isEnd ?\n                        isEventEnd ?\n                            <EventEndView/> :\n                             <PeopleEndView/> :\n                        isEventCard ? \n                            <EventInformationView event={cardInfo}/> :\n                             <PersonInformationView person={cardInfo}/>}\n                </div>\n\n            </div>\n\n        </div>\n    )\n\n    /*<div className=\"Events-content-down\">\n                    {isEventCard ?\n                        <EventInformationView event={cardInfo}/> :\n                        <PersonInformationView person={cardInfo}/>}\n                </div>*/\n};\n\nexport default CardView;\n","import React, {useEffect} from 'react';\nimport './ComponentsStyle/Card.scss'\nimport CardView from \"./View/CardView\";\n\n\nconst Card = ({cardInfo, onSwipeEnd}) => {\n\n    let shiftDict = {\n        horizontalShift: 0,\n        verticalShift: 0\n    };\n    let elem = null;\n    let currentX = 0;\n    let currentY = 0;\n    let isFirstTouch = true;\n    let isSwiping = false;\n    let isTransition = false;\n    let isUpperTouch = false;\n\n    let shift = {horizontalShift: 0, verticalShift: 0};\n\n\n    useEffect(() => {\n        updateStyle();\n    }, []);\n    const onTouch = (event) => {\n        let touches = event.changedTouches;\n        for (let i = 0; i < touches.length; i++) {\n            updateByTouch(touches[i])\n        }\n    };\n\n    const onTouchStart = (event) => {\n        isFirstTouch = true;\n        isSwiping = true;\n        isTransition = false;\n        updateStyle();\n    };\n\n    const onTouchEnd = (event) => {\n        if (Math.abs(shift.horizontalShift) > 100) {\n            let isLike = shift.horizontalShift > 0;\n            animatePick();\n            setTimeout(() => {\n                resetCard(false);\n                onSwipeEnd(isLike);\n            }, 400);\n        } else {\n            resetCard(true);\n        }\n\n    };\n\n    async function updateStyle() {\n        elem = elem? elem : document.getElementById(\"card-id\").firstChild;\n\n        let rotationCoefficient = isUpperTouch ? 1 : -1;\n        let rotation = rotationCoefficient * shift.horizontalShift / 15 ;\n\n        elem.style.transform = `rotate(${rotation}deg) translate(${shift.horizontalShift}px, ${shift.verticalShift}px)`;\n        elem.style.transition = isTransition ? \"0.2s\" : \"\";\n    }\n\n    const updateByTouch = (touch) => {\n        let previousX = currentX;\n        let previousY = currentY;\n\n        currentX = touch.clientX;\n        currentY = touch.clientY;\n\n        if (isFirstTouch) {\n            isUpperTouch = touch.clientY < 300;\n\n            isFirstTouch = false;\n        } else {\n            shift =\n                {\n                    horizontalShift: shift.horizontalShift + touch.clientX - previousX,\n                    verticalShift: shift.verticalShift + touch.clientY - previousY\n                }\n\n        }\n        updateStyle();\n\n    };\n\n    // Перемещает карту в сторону свайпа\n    const animatePick = () => {\n        // Задаём сначала транзитивность, а затем перемещаем карточку по вектору движения\n        isTransition = true;\n        shiftDict.horizontalShift = shift.horizontalShift * 5;\n        shiftDict.verticalShift = shift.verticalShift * 5;\n        shift = shiftDict;\n        updateStyle();\n    };\n\n    // Возвращает карту в начальное положение\n    const resetCard = (withTransition) => {\n        isTransition = withTransition;\n        isSwiping = false;\n        shiftDict.horizontalShift = 0;\n        shiftDict.verticalShift = 0;\n        shift = shiftDict;\n        currentY = 0;\n        currentX = 0;\n        updateStyle();\n    };\n\n    let swipeInfo = {\n        isSwiping: isSwiping,\n        hasMargin: false,\n        horizontalShift: shift.horizontalShift,\n        verticalShift: shift.verticalShift,\n        isUpperTouch: isUpperTouch,\n        isTransition: isTransition\n    };\n    return (\n        <div\n            id={\"card-id\"}\n            className=\"Swipe-main\"\n            onTouchMove={onTouch}\n            onTouchEnd={onTouchEnd}\n            onTouchStart={onTouchStart}>\n            <CardView\n                swipeInfo={swipeInfo}\n                cardInfo={cardInfo}\n                />\n        </div>\n    );\n\n};\n\n\nexport default Card;\n","import React from 'react';\nimport store from \"../redux/store/store\";\n\n\nimport Card from \"./Card\";\nimport CardView from \"./View/CardView\";\n\nconst Deck = ({index, setIndex, cards, loadCards, setRateBy, isEventDeck}) => {\n     const onSwipeEnd = async function(isLike) {\n        setRateBy(cards[index].id, isLike);\n\n        // Uploading if necessary\n        if (cards.length - index < 10){\n            loadCards();\n        }\n\n        store.dispatch(setIndex(index + 1));\n    };\n\n    let topCardIndex = index;\n    let bottomCardIndex = topCardIndex + 1;\n\n    let endCard = {\"isEnd\": true, \"end_type\" : isEventDeck}\n    return (\n\n        cards.length > 0 && topCardIndex < cards.length ?\n            <div>\n                <Card cardInfo={cards[topCardIndex]} onSwipeEnd={onSwipeEnd}/>\n                {\n                    bottomCardIndex < cards.length ?\n                        <CardView swipeInfo={{hasMargin: true}} cardInfo={cards[bottomCardIndex]} />:\n                        <div/>\n                }\n            </div> :\n            <div >\n                <Card cardInfo={endCard} onSwipeEnd={()=>{}}/>\n            </div>\n      \n    )\n};\n\nexport default Deck;\n","export function reload(events){\n    return {\n        type: \"RELOAD\",\n        events\n    }\n}\nexport function load(events){\n    return {\n        type: \"LOAD\",\n        events\n    }\n}\n\nexport function setIndex(index){\n    return {\n        type: \"SET_INDEX\",\n        index\n    }\n}","export function isValidResponse(response) {\n    return response.status === 200;\n}\n","import config from \"./api_config\"\nimport {isValidResponse} from \"./Utils\";\n\nexport async function fetchEventsRequest(userId, categories, is_personal,\n                                         page, size) {\n    let url = buildUrl(userId, categories, is_personal, page, size);\n    return await getPageableEventsByUrl(url);\n}\n\nexport async function fetchCommonEventsRequest(userId, otherUserId, page, size) {\n    let url = buildUrlForCommonEvents(userId, otherUserId, page, size);\n    return await getPageableEventsByUrl(url);\n\n}\n\nasync function getPageableEventsByUrl(url) {\n    let response = await fetch(url, {method: \"GET\",});\n    if (!isValidResponse(response)) {\n        return [];\n    }\n\n    let eventsJson = await response.json();\n    let events = eventsJson.content;\n    updateImageUrls(events);\n\n    eventsJson.content = events;\n    return eventsJson;\n}\n\n\nfunction buildUrl(userId, categories, is_personal, page, size) {\n    let categoriesParameter = \"category_id=\" + categories.join(\"&category_id=\");\n    return config.url + \"/user/\" + userId\n        + \"/events/selection?\" + categoriesParameter\n        + \"&is_personal=\" + is_personal\n        + \"&page=\" + page\n        + \"&size=\" + size;\n}\n\nfunction buildUrlForCommonEvents(userId, otherUserId, page, size) {\n    return `${config.url}/user/${userId}`\n        + `/common/events?anotherUserId=${otherUserId}`\n        + \"&page=\" + page\n        + \"&size=\" + size;\n}\n\nfunction updateImageUrls(newEvents) {\n    newEvents.forEach((item) => {\n        item.images.forEach((imageItem) => {\n            imageItem.image = config.images_url + imageItem.image;\n        })\n    });\n}\n","import store from \"../redux/store/store\";\nimport {reload, load} from \"../redux/actions/events-actions\";\nimport {fetchCommonEventsRequest, fetchEventsRequest} from \"../Api/Events\";\nimport {updateCommonEvents, updateCommonEventsCount} from \"../redux/actions/matches-actions\";\n\nexport async function fetchEvents(categories = [1, 6], isReload = false, is_personal = true) {\n    let requestState = store.getState();\n    let userId = requestState.userState.user.id;\n    let page = requestState.eventsState.page;\n    let size = requestState.eventsState.size;\n\n    let newEvents = await fetchEventsRequest(userId,categories, is_personal, page, size);\n\n    updateEventsState(isReload, newEvents.content);\n}\n\nfunction updateCommonEventsCountState(otherUserId, totalElementsCount) {\n    if (totalElementsCount > 0){\n        store.dispatch(updateCommonEventsCount(otherUserId,totalElementsCount))\n    }\n}\n\nexport async function fetchCommonEvents(otherUserId) {\n    let requestState = store.getState();\n    let userId = requestState.userState.user.id;\n    let matches = requestState.matchesState.matches;\n\n    let matchedUser = matches.find(\n        (match =>  match.id === otherUserId)\n    );\n    let page = matchedUser.page;\n    let size = requestState.matchesState.eventsPageSize;\n\n    let newEvents = await fetchCommonEventsRequest(userId, otherUserId, page, size);\n\n    updateCommonEventsState(otherUserId, newEvents.content);\n    updateCommonEventsCountState(otherUserId, newEvents.totalElements);\n}\n\nfunction updateCommonEventsState(otherUserId, newEvents) {\n    if (newEvents.length !== 0)\n        store.dispatch(updateCommonEvents(otherUserId,newEvents))\n}\n\nfunction updateEventsState(isReload, newEvents) {\n    if (isReload) {\n        store.dispatch(reload(newEvents));\n    } else if (newEvents.length !== 0) {\n        store.dispatch(load(newEvents));\n    }\n\n}\n\n\n","export function reloadMatches(matches){\n    return {\n        type: \"MATCHES_RELOAD\",\n        matches\n    }\n}\nexport function loadMatches(matches){\n    return {\n        type: \"MATCHES_LOAD\",\n        matches\n    }\n}\n\nexport function updateCommonEvents(otherUserId, newEvents) {\n    return {\n        type: \"UPDATE_COMMON_EVENTS\",\n        otherUserId,\n        newEvents\n    }\n}\n\nexport function updateCommonEventsCount(otherUserId, commonEventsCount){\n    return {\n        type: \"UPDATE_COUNT_COMMON_EVENTS\",\n        otherUserId,\n        commonEventsCount\n    }\n}\n","import config from \"./api_config\"\n\nexport async function setEventRateCall(userId, eventId, isLiked) {\n    let url = config.url + \"/user/\" + userId + \"/events/ratings\";\n\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify([\n            {\n                event_id: eventId,\n                is_liked: isLiked\n            }\n        ])\n    });\n}\n\nexport async function setUserRateCall(userId, otherUserId, isLiked) {\n    let url = config.url + \"/user/\" + userId + \"/users/ratings\";\n\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify([\n            {\n                user_id: otherUserId,\n                is_liked: isLiked\n            }\n        ])\n    });\n}\n","import {setEventRateCall, setUserRateCall} from '../Api/Ratings';\nimport store from \"../redux/store/store\";\n\nexport async function setEventRate(eventId, isLiked) {\n    let userId = getUserId();\n\n    return setEventRateCall(userId, eventId, isLiked);\n}\n\nexport async function setUserRate(otherUserId, isLiked) {\n    let userId = getUserId();\n\n    return setUserRateCall(userId, otherUserId, isLiked);\n}\n\nfunction getUserId() {\n    let requestState = store.getState();\n    return requestState.userState.user.id;\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector } from \"react-redux\";\n\nimport Header from \"../Components/Header\";\nimport Bottom from \"../Components/Bottom\";\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport '../ResetBrowser.css';\nimport './panelsStyle/Events.scss';\nimport Deck from \"../Components/Deck\";\nimport {fetchEvents} from \"../services/Events\";\nimport { setEventRate } from '../services/Ratings';\nimport {setIndex} from \"../redux/actions/events-actions\";\nimport spinner from \"../assets/preloader.svg\";\n\nconst Events = ({id}) => {\n    const user = useSelector(state => state.userState.user);\n    const events = useSelector(state => state.eventsState.events);\n    const index = useSelector(state => state.eventsState.index);\n\n    const [categories, setCategories] = useState([\"3\",\"8\"]);\n    const [isLoading, setIsLoading] = useState(false);\n\n    async function loadEvents(){\n        await fetchEvents(categories);\n    }\n    async function setRateBy(eventId, isLike){\n        setEventRate( eventId, isLike );\n    }\n\n    // При получении user id, получаем ивенты\n    useEffect(() => {\n        if (user && events.length === 0) {\n            setIsLoading(true);\n            loadEvents().then(\n                () => {\n                    setIsLoading(false);\n                }\n            );\n        }\n    }, [user]);\n\n\n    useEffect(() => {\n        async function refreshHeaderVK() {\n            document.getElementById(id).children[0].style.paddingTop = 0;\n            document.body.style.setProperty('--background_page', 'white');\n        }\n        refreshHeaderVK();\n    }, []);\n\n\n    return (\n        <Panel id={id}>\n            <Header panelId={id}/>\n            <div className=\"container\">\n                {!isLoading && <Deck isEventDeck={true} index={index} setIndex={setIndex} cards={events} loadCards={loadEvents} setRateBy={setRateBy}/>}\n                {isLoading && <div className=\"spinner-preloader-forPeople\">\n                    <img src={spinner} alt=\"loading spinner\"/>\n                </div>}\n            </div>\n\n\n            <Bottom />\n        </Panel>\n    );\n};\n\nexport default Events;\n","import React from 'react';\n\nconst MatchedScrollList = ({list}) => {\n    const toVKProfile = (e) => {\n        document.location.href = \"https://vk.com/id\" + e.currentTarget.dataset.userid;\n    };\n    return list.map(\n        person =>\n        <div className=\"ScrollContainerContent\" key={person.id}>\n            <div className=\"ScrollPerson\" onClick={toVKProfile} data-userid={person.id}>\n                <img src={person.photo_400_orig} alt=\"Person\" className=\"ScrollPeopleImg\"/>\n                <div>{person.first_name}</div>\n                <div className=\"Cirle\">{person.count_common_events}</div>\n            </div>\n        </div>\n    );\n}\n\nexport default MatchedScrollList;\n","import React from 'react';\n\nconst CommonEventsList = ({events}) => {\n\n    const getFormattedDay = (date) => {\n        if (!date) return \"\";\n        let day = new Date(date);\n        return day.toLocaleDateString(\"ru-Ru\", {month: 'long', day: 'numeric'})\n    };\n\n    return events.map(\n        event =>\n        <div className=\"eventContainer\" key={event.id}>\n            <div className=\"poster\">\n                <div className=\"image-container\">\n                    <img src={event.images[0].image}  alt={event.short_title}/>\n                </div>\n                <div className=\"annotation\">\n                    <p>{getFormattedDay(event.start_date)}</p>\n                    <p>{event.place_short_title}</p>\n                </div>\n            </div>\n            <div className=\"name\">\n                <p>{event.short_title}</p>\n            </div>\n        </div>\n    );\n};\n\nexport default CommonEventsList;\n","import React, {useState} from 'react';\n\nimport CommonEventsList from './CommonEventsList.js';\n\nimport chatActive from \"../assets/icons/messageRed.svg\";\nimport matchesArrow from \"../assets/icons/matchesArrow.svg\";\nimport {fetchCommonEvents} from \"../services/Events\";\n\nconst MatchedList = ({list}) => {\n    const [currentOPenBlock, setCurrentOPenBlock] = useState(null);\n\n    const openEvents = (e) => {\n        if ((currentOPenBlock) && (currentOPenBlock.dataset.id !== e.currentTarget.dataset.id)) {\n            toggleCommonEvents(currentOPenBlock, false);\n        }\n\n        let elementStyle = e.currentTarget.parentElement.children[3].style;\n\n        let height = elementStyle.height;\n        let isHidden = height ===  \"0vmax\" || height === \"\";\n        if (isHidden) {\n            let otherUserId = parseInt(e.currentTarget.dataset.id);\n            fetchCommonEvents(otherUserId);\n        }\n\n        toggleCommonEvents(e.currentTarget, isHidden);\n\n        setCurrentOPenBlock(e.currentTarget);\n    };\n\n    const toggleCommonEvents = (target, isClosed) => {\n        let elementStyle = target.parentElement.children[3].style;\n        elementStyle.height = isClosed ? \"20.5vmax\" : \"0vmax\";\n\n        let arrow = target.parentElement.getElementsByClassName(\"arrow\")[0];\n        if (isClosed){\n            arrow.classList.add(\"arrowActive\");\n        } else {\n            arrow.classList.remove(\"arrowActive\");\n        }\n    };\n\n    const toVKChat = (e) => {\n        document.location.href = \"https://vk.com/im?sel=\" + e.currentTarget.dataset.userid;\n    };\n\n    const toVKProfile = (e) => {\n        document.location.href = \"https://vk.com/id\" + e.currentTarget.dataset.userid;\n    };\n    return list.map(\n        person =>\n        <div className=\"PersonContainer\" key={person.id}>\n            <div className=\"Person\" key={person.key}>\n                <img className=\"avatar\" src={person.photo_400_orig} onClick={toVKProfile} alt=\"Person\"/>\n\n\n                <div className=\"messageTitle\" onClick={toVKChat} data-userid={person.id}>\n                    <img src={chatActive} alt=\"message\" />\n                    <p>Написать</p>\n                </div>\n\n                <div className=\"personData\" onClick={openEvents} data-id={person.id}>\n                    <div className=\"name\">{person.first_name}</div>\n                    <div className=\"events\">{person.count_common_events} общих событий</div>\n                </div>\n\n                <div className=\"eventsContainer\">\n                   <div className=\"events\">\n                        <CommonEventsList events={\n                            person.commonEvents.length > 0 ?\n                                person.commonEvents :\n                                []\n                        }/>\n\n                    </div>\n                </div>\n\n                <img className=\"arrow\" onClick={openEvents} data-id={person.id} src={matchesArrow} alt=\"icon\" />\n\n            </div>\n        </div>\n    );\n}\n\n/*<a className=\"PersonPlacesList\" href={\"https://vk.com/im?sel=\" + person.id}>\n                            {\"Перейти в сообщения\"}\n                        </a>*/\nexport default MatchedList;\n","import config from \"./api_config\";\n\nexport async function fetchMatchesCall(userId, page, size) {\n    let url = buildUrl(userId, page, size);\n    let response = await fetch(url, {method: \"GET\",});\n    if (response.status !== 200) {\n        return [];\n    }\n\n    let newMatchesJson = await response.json();\n    let newMatches = newMatchesJson.content;\n    setUpEmptyCommonEvents(newMatches);\n    updateEmptyImages(newMatches);\n    return newMatches;\n}\n\n\nfunction buildUrl(userId, page, size) {\n    return config.url + \"/user/\" + userId\n        + \"/users/ratings?\"\n        + \"&page=\" + page\n        + \"&size=\" + size;\n}\n\nfunction setUpEmptyCommonEvents(newMatches) {\n    newMatches.forEach((item) => {\n        item.commonEvents = [];\n        item.page = 0;\n    });\n}\n\nfunction updateEmptyImages(newMatches) {\n    newMatches.forEach((item) => {\n        if (!item.photo_400_orig){\n            item.photo_400_orig = \"https://vk.com/images/camera_200.png?ava=1\"\n        }\n    });\n}\n","import store from \"../redux/store/store\";\nimport {loadMatches} from \"../redux/actions/matches-actions\";\nimport { fetchMatchesCall } from \"../Api/Matches\"\n\nexport async function fetchMatches() {\n    let requestState = store.getState();\n    let userId = requestState.userState.user.id;\n    let page = requestState.peopleState.page;\n    let size = requestState.peopleState.size;\n\n    let matches = await fetchMatchesCall(userId, page, size);\n    updateStore(matches);\n\n}\n\n\nfunction updateStore(newMatches) {\n    if (newMatches.length !== 0)\n        store.dispatch(loadMatches(newMatches));\n\n}\n","import React, { useEffect } from 'react';\nimport { useSelector } from \"react-redux\";\n\nimport Header from \"../Components/Header\";\nimport MatchedScrollList from \"../Components/MatchedScrollList\";\nimport MatchedList from \"../Components/MatchedList\";\nimport Bottom from \"../Components/Bottom\";\n\nimport '../ResetBrowser.css';\nimport './panelsStyle/Matches.css';\n\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport {fetchMatches} from \"../services/Matches\";\n\nconst Matches = ({id}) => {\n    const user = useSelector(state => state.userState.user);\n    const matches = useSelector(state => state.matchesState.matches);\n\n    async function loadMatches(){\n        await fetchMatches();\n    }\n\n    useEffect(() => {\n        if (user)\n            loadMatches();\n    }, [user]);\n\n    useEffect(() => {\n        async function refreshHeaderVK() {\n            document.getElementById(id).children[0].style.paddingTop = 0;\n            document.body.style.setProperty('--background_page', 'white');\n        }\n        refreshHeaderVK();\n    }, []);\n\n    /*<MatchedNavigationButtons\n                stateList = {isSelectedFriends}\n                stateRefresh = {onSwitchClick}\n                matchedList = {matchedPeople}\n                friendsList = {matchedFriends}/>*/\n\n    return (\n        <Panel id={id}>\n            <Header panelId={id}/>\n            <div className=\"Head\">\n                <p>{matches.length !== 1 ?\n                \"\"+matches.length+\" новых совпадений\" :\n                   \"\" + matches.length + \" новое совпадение\"}</p>\n            </div>\n\n            <div className=\"ScrollContainer\">\n                {matches.length > 0 ?\n                    <MatchedScrollList\n                        list={matches}/> :\n                    <div/>\n                }\n            </div>\n            <div className=\"Dialogues\">\n                <p>Совпадения</p>\n            </div>\n            <div className=\"ListContainer\">\n                {matches.length > 0 ?\n                    <MatchedList\n                        list={matches}/> :\n                    <div/>\n                }\n            </div>\n            <Bottom/>\n        </Panel>\n    );\n}\n\nexport default Matches;\n\n//const [isSelectedFriends, setIsSelectedFriends] = useState(\"true\");\n//const onSwitchClick = (value) => {setIsSelectedFriends(value);}\n/*<MatchedNavigationButtons\n               stateList = {isSelectedFriends}\n               stateRefresh = {onSwitchClick}\n               matchedList = {matchedPeople}\n               friendsList = {matchedFriends}/>*/\n","import React from 'react';\nimport store from \"../redux/store/store\";\n\nimport '../panels/panelsStyle/Grid.css';\nimport {setIndex} from '../redux/actions/events-actions';\nimport {changePanel} from \"../redux/actions/panel-actions\";\n\nimport panels from \"../panels.json\";\n\nconst GridEventList = ({data}) => {\n\n    const handleClick = e => {\n        let index = Number(e.currentTarget.dataset.index);\n        store.dispatch(setIndex(index));\n        store.dispatch(changePanel(panels.events));\n    };\n\n    return data.map (\n        (product, index) =>\n            <div className=\"Grid-eventCell\"\n               data-name={product.name ? product.name : \"unknown\"}\n               data-to=\"swipe\"\n               data-index={index}\n                 key={index}\n               onClick={handleClick}>\n                <img src={product.images[0].image ? product.images[0].image : null} alt={product.name ? product.name : \"unknown\"}/>\n            </div>\n    );\n}\n\nexport default GridEventList;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from \"react-redux\";\n\nimport Header from \"../Components/Header\";\nimport Bottom from \"../Components/Bottom\";\n\nimport GridEventList from \"../Components/GridEventList\";\n\nimport '../ResetBrowser.css';\nimport './panelsStyle/Grid.css';\n\nimport {fetchEvents} from \"../services/Events\";\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\n\nconst Grid = ({id}) => {\n    const user = useSelector(state => state.userState.user);\n    const events = useSelector(state => state.eventsState.events);\n\n    const [categoriesId, setCategoriesId] = useState([\"3\", \"8\", \"27\", \"15\", \"12\"]);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const uploadData = e => {\n        let elem = e.currentTarget;\n        if (elem.scrollHeight - elem.clientHeight*2 <= elem.scrollTop) {\n            try {\n                if (!isLoading){\n                    setIsLoading(true);\n                    loadEvents();\n                }\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }\n    };\n\n    const loadEvents = async function (){\n        await fetchEvents(categoriesId);\n        setIsLoading(false);\n    };\n\n    const deleteAndloadEvents = async function (){\n        if (user){\n            await fetchEvents(categoriesId,true);\n            setIsLoading(false);\n        }\n    };\n\n\n    useEffect(() => {\n        if (user && events.length === 0) {\n            loadEvents();\n        }\n\n    }, [user]);\n\n\n    useEffect(() => {\n        async function refreshHeaderVK() {\n            document.getElementById(id).children[0].style.paddingTop = 0;\n            document.body.style.setProperty('--background_page', 'white');\n        }\n        refreshHeaderVK();\n    }, []);\n\n    const onModal = e => {\n        let modal = document.getElementById(\"filter_modal\");\n        if (modal.style.visibility === \"visible\") {\n            deleteAndloadEvents();\n        }\n        modal.style.visibility = (modal.style.visibility === \"visible\") ? \"hidden\" : \"visible\";\n    };\n\n    const onChangeFilterItemState = e => {\n        if (e.currentTarget.dataset.isactive === \"false\") {\n            setCategoriesId(categoriesId.concat(e.currentTarget.dataset.id));\n        }\n        else categoriesId.splice(categoriesId.indexOf(e.currentTarget.dataset.id), 1);\n        e.currentTarget.dataset.isactive = (e.currentTarget.dataset.isactive === \"true\") ? \"false\" : \"true\";\n        e.currentTarget.children[0].classList.toggle(\"Filter-modal-categories-item-checkbox-disabled\");\n        e.currentTarget.children[0].classList.toggle(\"Filter-modal-categories-item-checkbox-active\");\n    };\n\n    const onCloseFilterEnvironment = e => {\n        if (e.target.id === \"filter_modal\") onModal(e);\n    };\n\n    return (\n        \n        <Panel id={id}>\n            <Header panelId={id}/>\n\n                <div className=\"Grid-eventList\" onScroll={uploadData}>\n                    {events &&\n                        <GridEventList data={events}/> }\n                </div>\n\n                <div className=\"Filter\" onClick={onModal}>\n                    <p>Фильтр</p>\n                </div>\n\n                <div className=\"Filter-modal\" id=\"filter_modal\" style={{visibility: 'hidden'}} onClick={onCloseFilterEnvironment}>\n                    <div className=\"Filter-modal-content\">\n\n                        <div className=\"Filter-modal-header\">\n                            <p>Фильтр</p>\n                        </div>\n\n                        <div className=\"Filter-modal-categoriesTitle\">\n                            <p>Выберите тип мероприятия</p>\n                            <div className=\"Filter-modal-categoriesTitleBottomLine\"></div>\n                        </div>\n\n                        <div className=\"Filter-modal-categories\">\n\n                            <div className=\"Filter-modal-categories-item\"\n                               onClick={onChangeFilterItemState} data-isactive={true} data-id={3}>\n                                <div className=\"Filter-modal-categories-item-checkbox\n                                    Filter-modal-categories-item-checkbox-active\"></div>\n                                <p className=\"Filter-modal-categories-item-name\">Концерты</p>\n                            </div>\n\n                            <div className=\"Filter-modal-categories-item\"\n                               onClick={onChangeFilterItemState} data-isactive={true} data-id={6}>\n                                <div className=\"Filter-modal-categories-item-checkbox\n                                    Filter-modal-categories-item-checkbox-active\"></div>\n                                <p className=\"Filter-modal-categories-item-name\">Выставки</p>\n                            </div>\n\n                            <div className=\"Filter-modal-categories-item\"\n                               onClick={onChangeFilterItemState} data-isactive={true} data-id={8}>\n                                <div className=\"Filter-modal-categories-item-checkbox\n                                    Filter-modal-categories-item-checkbox-active\"></div>\n                                <p className=\"Filter-modal-categories-item-name\">Фестивали</p>\n                            </div>\n\n                            <div className=\"Filter-modal-categories-item\"\n                               onClick={onChangeFilterItemState} data-isactive={true} data-id={12}>\n                                <div className=\"Filter-modal-categories-item-checkbox\n                                    Filter-modal-categories-item-checkbox-active\"></div>\n                                <p className=\"Filter-modal-categories-item-name\">Выставки</p>\n                            </div>\n\n                            <div className=\"Filter-modal-categories-item\"\n                               onClick={onChangeFilterItemState} data-isactive={true} data-id={27}>\n                                <div className=\"Filter-modal-categories-item-checkbox\n                                    Filter-modal-categories-item-checkbox-active\"></div>\n                                <p className=\"Filter-modal-categories-item-name\">Ночная жизнь</p>\n                            </div>\n\n                        </div>\n\n                        <div className=\"Filter-modal-buttonOK\" onClick={onModal}>\n                            <p>ОК</p>\n                        </div>\n\n                    </div>\n                </div>\n\n            <Bottom/>\n        </Panel>\n    );\n};\nexport default Grid;\n// function mapStateToProps(store) {\n//     return {\n//         user: store.userState.user\n//     }\n//   }\n//   export default connect(mapStateToProps)(Grid)\n","export function reload(people){\n    return {\n        type: \"PEOPLE_RELOAD\",\n        people\n    }\n}\nexport function load(people){\n    return {\n        type: \"PEOPLE_LOAD\",\n        people\n    }\n}\n\nexport function setIndex(index){\n    return {\n        type: \"PEOPLE_SET_INDEX\",\n        index\n    }\n}\n","import config from \"./api_config\"\n\nexport async function fetchPeopleCall(userId, page, size, isReload) {\n\n    let url = buildUrl(userId, page, size);\n    let response = await fetch(url, {method: \"GET\",});\n    if (response.status !== 200) {\n        return [];\n    }\n\n    let newPeopleJson = await response.json();\n    let newPeople = newPeopleJson.content;\n\n    return newPeople;\n\n}\n\nfunction buildUrl(userId, page, size) {\n    return config.url + \"/user/\" + userId\n        + \"/users/all?\"\n        + \"&page=\" + page\n        + \"&size=\" + size;\n}\n","import store from \"../redux/store/store\";\nimport {load, reload} from \"../redux/actions/people-actions\";\nimport { fetchPeopleCall } from \"../Api/People\"\n\nexport async function fetchPeople(isReload = false) {\n    let requestState = store.getState();\n    let userId = requestState.userState.user.id;\n    let page = requestState.peopleState.page;\n    let size = requestState.peopleState.size;\n\n    let people = await fetchPeopleCall(userId, page, size, isReload);\n    updateStore(isReload, people);\n}\n\n\nfunction updateStore(isReload, newPeople) {\n    if (isReload) {\n        store.dispatch(reload(newPeople));\n    } else {\n        if (newPeople.length !== 0)\n            store.dispatch(load(newPeople));\n    }\n}\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from \"react-redux\";\nimport Header from \"../Components/Header\";\nimport Bottom from \"../Components/Bottom\";\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport '../ResetBrowser.css';\nimport './panelsStyle/People.scss';\nimport Deck from \"../Components/Deck\";\nimport {fetchPeople} from \"../services/People\";\nimport { setUserRate } from '../services/Ratings';\nimport {setIndex} from \"../redux/actions/people-actions\";\n\nconst People = ({id}) => {\n    const user = useSelector(state => state.userState.user);\n    const people = useSelector(state => state.peopleState.people);\n    const index = useSelector(state => state.peopleState.index);\n\n    const [isLoading, setIsLoading] = useState(false);\n\n    async function loadPeople(){\n        if (!isLoading){\n            setIsLoading(true);\n            await fetchPeople(people.length === 0);\n            setIsLoading(false);\n        }\n         \n    }\n\n    async function setRateBy(otherUserId, isLike){\n        setUserRate( otherUserId, isLike );\n    }\n\n    // При получении user id, получаем ивенты\n    // useEffect(() => {\n    //     if (isUserLoaded() && people.length === 0){\n    //         loadPeople();\n    //     }\n    // }, [user]);\n\n\n    useEffect(() => {\n        async function refreshHeaderVK() {\n            document.getElementById(id).children[0].style.paddingTop = 0;\n            document.body.style.setProperty('--background_page', 'white');\n        }\n        refreshHeaderVK();\n\n        if (user && people.length === 0)\n            loadPeople();\n    }, []);\n\n\n    return (\n        <Panel id={id}>\n            <Header panelId={id}/>\n            <Deck isEventDeck={false} index={index} setIndex={setIndex} cards={people} loadCards={loadPeople} setRateBy={setRateBy}/>\n\n            <Bottom/>\n        </Panel>\n    );\n};\n\nexport default People;\n","export function setAuthorizedUser(user){\n    return {\n        type: \"SET_AUTHORIZED_USER\",\n        user\n    }\n}","import config from \"./api_config\"\n\nexport async function authorizeRequest(user) {\n    let url = `${config.url}/user/identify?user_id=${user.id}`;\n    return fetch(url, {method: \"GET\",});\n\n}\n","import store from \"../redux/store/store\";\nimport {setAuthorizedUser} from \"../redux/actions/user-actions\";\nimport {authorizeRequest} from \"../Api/Auth\";\n\nexport async function authorize(user) {\n    let response = await authorizeRequest(user);\n\n    if (response.status === 200) {\n        store.dispatch(setAuthorizedUser(user));\n    }\n}\n","import React, { useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\n\nimport Personal from './panels/Personal';\nimport Events from './panels/Events';\nimport Matches from './panels/Matches';\nimport Grid from './panels/Grid';\nimport People from './panels/People';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './ResetBrowser.css';\nimport {authorize} from \"./services/Auth\";\nimport config from \"./Api/api_config.json\";\nimport settings from \"./Api/dev_settings.json\";\nimport {useSelector} from \"react-redux\";\n\nimport panels from \"./panels.json\"\n\nconst AppCulter = () => {\n    const activePanel = useSelector(state => state.panelState.active);\n\n    useEffect(() => {\n        async function fetchData() {\n            let fetchedUser = config.is_dev ?\n                {'id' : settings.user_id} :\n                await connect.sendPromise('VKWebAppGetUserInfo');\n            \n            await authorize(fetchedUser);\n        }\n        fetchData();\n\n    }, []);\n\n\n    return (\n        <View activePanel={activePanel}>\n            <Personal id={panels.personal}/>\n            <Grid id={panels.grid}/>\n            <Events id={panels.events}/>\n            <People id={panels.people}/>\n            <Matches id={panels.matches}/>\n        </View>\n    );\n};\n\nexport default AppCulter;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport AppCulter from './AppCulter';\nimport {Provider} from 'react-redux';\nimport store from './redux/store/store';\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(\n    <Provider store={store}>\n        <AppCulter/>\n    </Provider>, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/chatRed.6ffa4715.svg\";","module.exports = __webpack_public_path__ + \"static/media/peopleRed.333d01ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/eventsRed.08ccde92.svg\";"],"sourceRoot":""}