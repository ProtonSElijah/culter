(this.webpackJsonpculter=this.webpackJsonpculter||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);n(94),n(122),n(124),n(125),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164);var a=n(0),c=n.n(a),r=n(65),s=n.n(r),i=n(17),o=n.n(i),l=n(1),u=n.n(l),m=n(6),p=n(9),f=(n(173),function(e){var t=e.text;return c.a.createElement("div",{className:"App-header"},c.a.createElement("p",null,t.toUpperCase()))}),h=function(e){e.stateList;var t=e.stateRefresh,n=e.matchedList,a=e.friendsList,r=function(e){document.getElementById("matchedButton").classList.toggle("NavigationButtonsActive",e),document.getElementById("friendsButton").classList.toggle("NavigationButtonsActive",!e),document.getElementById("matchedButton").classList.toggle("NavigationButtonsDefault",!e),document.getElementById("friendsButton").classList.toggle("NavigationButtonsDefault",e)};return c.a.createElement("div",{className:"NavigationButtons"},c.a.createElement("button",{id:"matchedButton",className:"NavigationButtonsActive",onClick:function(){t(!0),r(!0)}},n.length," \u043b\u044e\u0434\u0435\u0439"),c.a.createElement("button",{id:"friendsButton",className:"NavigationButtonsDefault",onClick:function(){t(!1),r(!1)}},a.length," \u0434\u0440\u0443\u0433"))},d=function(e){return e.list.map((function(e){return c.a.createElement("div",{className:"ScrollContainerContent",key:e.key},c.a.createElement("div",{className:"ScrollPerson"},c.a.createElement("img",{src:e.imgLink,alt:"Person",className:"ScrollPeopleImg"}),c.a.createElement("div",null,e.firstName),c.a.createElement("div",{className:"Cirle"},e.commonPlacesCount)))}))},v=function(e){var t=e.list,n="\u042f \u043e \u043c\u043e\u0451\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438";return t.map((function(e){return c.a.createElement("div",{className:"PersonContainer"},c.a.createElement("div",{className:"Person",key:e.key},c.a.createElement("img",{src:e.imgLink,alt:"Person photo"}),c.a.createElement("div",{className:"PersonData"},c.a.createElement("div",{className:"PersonName"},c.a.createElement("b",null,e.firstName+" "+e.lastName)),n.length>26&&c.a.createElement("div",{className:"PersonPlacesList"},n.slice(0,26)+".."),!(n.length>26)&&c.a.createElement("div",{className:"PersonPlacesList"},n))),c.a.createElement("div",{className:"BottomLine"}))}))},g=(n(174),function(e){var t=e.go,n=e.left,a=e.right;return c.a.createElement("div",{className:"App-bottom"},c.a.createElement("div",{className:"BottomLeftButton",onClick:t,"data-to":n},c.a.createElement("div",null)),c.a.createElement("div",{className:"BottomRightButton",onClick:t,"data-to":a},c.a.createElement("div",null)))}),E=(n(61),n(175),[{key:"1",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"2",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"3",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"4",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"5",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"6",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"7",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"8",imgLink:"https://sun9-45.userapi.com/c854528/v854528685/d255a/ooAN1guMTAc.jpg",firstName:"\u0414\u0430\u043d\u0438\u043b\u0430",lastName:"\u0421\u0435\u0440\u0433\u0430\u0447\u0435\u0432",commonPlacesCount:1,commonPlaces:["\u0420\u043e\u043a"]},{key:"9",imgLink:"https://sun9-44.userapi.com/c848536/v848536553/153b99/ypLiVUE1jZA.jpg",firstName:"\u0418\u043b\u044c\u044f",lastName:"\u041a\u0443\u0440\u043d\u0430\u043a\u043e\u0432",commonPlacesCount:1,commonPlaces:["\u0422\u0440\u0435\u043f"]}]),N=[{key:"0",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]}],b=n(26),S=n.n(b),y=function(e){var t=e.id,n=e.go,r=Object(a.useState)("true"),s=Object(p.a)(r,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement(S.a,{id:t},c.a.createElement(f,{text:t}),c.a.createElement("div",{className:"Head"},c.a.createElement("p",null,"\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f")),c.a.createElement(h,{stateList:i,stateRefresh:function(e){o(e)},matchedList:E,friendsList:N}),c.a.createElement("div",{className:"ScrollContainer"},c.a.createElement(d,{list:i?E:N})),c.a.createElement("div",{className:"Head"},c.a.createElement("p",null,"\u0414\u0438\u0430\u043b\u043e\u0433\u0438")),c.a.createElement("div",{className:"ListContainer"},c.a.createElement(v,{list:i?E:N})),c.a.createElement(g,{go:n,left:"swipe",right:"personal"}))},k=(n(191),n(44)),w=n(45),P=n(47),j=n(46),O=n(27),C=n(48),T=(n(192),n(193),function(e){var t=e.horizontalShift,n=e.verticalShift,a=e.hasMargin,r=e.isUpperTouch,s=e.cardInfo,i={transform:"rotate("+(r?-1:1)*t/15+"deg) translate("+t+"px, "+n+"px)",transition:e.isTransition?"0.2s":""};a&&(i["margin-top"]="-80vmax");var o=Math.min(Math.abs(t)/50,1),l={left:{opacity:t<0?o:0},right:{opacity:t>0?o:0}};return c.a.createElement("div",{className:"Swipe-content",style:i},c.a.createElement("div",{className:"Swipe-content-up"},c.a.createElement("div",{className:"Swipe-content-up-labels"},c.a.createElement("div",{style:l.right,className:"Swipe-right-label choice-label"},"\u041a\u0440\u0443\u0442\u043e"),c.a.createElement("div",{style:l.left,className:"Swipe-left-label choice-label"},"\u041e\u0442\u0441\u0442\u043e\u0439")),c.a.createElement("img",{className:"Swipe-content-up-image",src:s.images[0].image})),c.a.createElement("div",{className:"Swipe-content-down"},c.a.createElement("p",{id:"Font-bold"},c.a.createElement("b",null,s.short_title)),c.a.createElement("p",null,c.a.createElement("b",null,"4")," \u0430\u043f\u0440\u0435\u043b\u044f, \u0441\u0443\u0431\u0431\u043e\u0442\u0430, ",c.a.createElement("b",null,"20:00")),c.a.createElement("p",null,c.a.createElement("b",null,"20")," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0438\u0434\u0451\u0442 - ",c.a.createElement("b",null,"1")," \u0434\u0440\u0443\u0433")))}),x=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(P.a)(this,Object(j.a)(t).call(this,e))).onTouch=function(e){for(var t=e.changedTouches,a=0;a<t.length;a++){var c=n.state.currentX,r=n.state.currentY,s={currentX:t[a].clientX,currentY:t[a].clientY};n.state.isFirstTouch?(s.isUpperTouch=t[a].clientY>300,s.isFirstTouch=!1):(s.horizontalShift=n.state.horizontalShift+t[a].clientX-c,s.verticalShift=n.state.verticalShift+t[a].clientY-r),n.setState(s)}},n.onTouchStart=function(e){e.preventDefault(),n.setState({isFirstTouch:!0,isSwiping:!0,isTransition:!1})},n.onTouchEnd=function(e){if(Math.abs(n.state.horizontalShift)>100){var t=n.state.horizontalShift>0;n.setState({isTransition:!0}),n.setState({horizontalShift:5*n.state.horizontalShift,verticalShift:5*n.state.verticalShift});var a=Object(O.a)(n);setTimeout((function(){a.setState({isTransition:!1,horizontalShift:0,verticalShift:0,currentX:0,currentY:0}),a.props.onSwipeEnd(t)}),200)}else n.state.horizontalShift>300?n.props.changeDeck():n.setState({horizontalShift:0,verticalShift:0,currentX:0,currentY:0,isSwiping:!1,isTransition:!0})},n.state={currentX:0,currentY:0,horizontalShift:0,verticalShift:0,isFirstTouch:!0,isSwiping:!1},n}return Object(C.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Swipe-main",onTouchMove:this.onTouch,onTouchEnd:this.onTouchEnd,onTouchStart:this.onTouchStart},c.a.createElement(T,{cardInfo:this.props.cardInfo,isSwiping:this.state.isSwiping,horizontalShift:this.state.horizontalShift,verticalShift:this.state.verticalShift,isUpperTouch:this.state.isUpperTouch,isTransition:this.state.isTransition}))}}]),t}(a.Component),L=n(21);function B(e,t,n){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(u.a.mark((function e(t,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=L.url+"/user/"+t+"/events/ratings",e.next=3,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{event_id:n,is_liked:a}])});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.Component;function A(){return _.apply(this,arguments)}function _(){return(_=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L.url+"/category/all",e.next=3,fetch(t,{method:"GET"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=n(92),D=n.n(z),U=(n(194),function(e){var t=e.id,n=e.go,r=Object(a.useState)(null),s=Object(p.a)(r,2),i=s[0],l=s[1],h=Object(a.useState)(null),d=Object(p.a)(h,2),v=d[0],E=d[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetAuthToken",{app_id:7197573,scope:"friends"});case 2:t=e.sent,E(t.access_token);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[]),c.a.createElement(S.a,{id:t},c.a.createElement(f,{text:t}),c.a.createElement("div",{className:"PersonalContent"},c.a.createElement("div",{className:"PersonalBlock"},i&&c.a.createElement("div",{className:"PersonalData"},c.a.createElement("img",{src:i.photo_200?i.photo_200:null,alt:"Person"}),c.a.createElement("p",null,i.first_name?i.first_name:"",i.last_name?" "+i.last_name:""),v&&c.a.createElement("p",null,v)))),c.a.createElement(g,{go:n,left:"matches",right:"swipe"}))});n(195);function X(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(m.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(L.url,"/user/identify?user_id=").concat(t,"&access_token=").concat(n),console.log(a),e.next=4,fetch(a,{method:"GET"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){var e=Object(a.useState)("swipe"),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(p.a)(s,2),l=i[0],f=i[1],h=Object(a.useState)(null),d=Object(p.a)(h,2),v=d[0],g=d[1],E=Object(a.useState)(!1),N=Object(p.a)(E,2),b=(N[0],N[1]),S=function(e){r(e.currentTarget.dataset.to)};return Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return a.apply(this,arguments)}function a(){return(a=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetAuthToken",{app_id:7197573,scope:"friends"});case 2:t=e.sent,f(t.access_token);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return a=t.sent,console.log(a),t.next=6,e();case 6:return t.next=8,n();case 8:return t.next=10,X(v.id,l);case 10:b(!0);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return c.apply(this,arguments)})().then()}),[]),c.a.createElement(D.a,{activePanel:n},c.a.createElement(U,{id:"personal",go:S}),c.a.createElement(y,{id:"matches",go:S}))};o.a.send("VKWebAppInit"),s.a.render(c.a.createElement(J,null),document.getElementById("root"))},21:function(e){e.exports=JSON.parse('{"url":"http://84.38.181.166:8080/culter"}')},61:function(e,t,n){},93:function(e,t,n){e.exports=n(200)}},[[93,1,2]]]);
//# sourceMappingURL=main.8c3c0b1f.chunk.js.map