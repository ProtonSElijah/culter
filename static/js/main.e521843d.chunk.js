(window.webpackJsonpculter=window.webpackJsonpculter||[]).push([[0],{156:function(e,t,n){e.exports=n(256)},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);n(157),n(184),n(186),n(187),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226);var a=n(0),r=n.n(a),c=n(30),s=n.n(c),i=n(19),o=n.n(i),l=n(6),u=n.n(l),m=n(10),p=n(20),h=(n(235),function(e){var t=e.text;return r.a.createElement("div",{className:"App-header"},r.a.createElement("p",null,t.toUpperCase()))}),f=function(e){e.stateList;var t=e.stateRefresh,n=e.matchedList,a=e.friendsList,c=function(e){document.getElementById("matchedButton").classList.toggle("NavigationButtonsActive",e),document.getElementById("friendsButton").classList.toggle("NavigationButtonsActive",!e),document.getElementById("matchedButton").classList.toggle("NavigationButtonsDefault",!e),document.getElementById("friendsButton").classList.toggle("NavigationButtonsDefault",e)};return r.a.createElement("div",{className:"NavigationButtons"},r.a.createElement("button",{id:"matchedButton",className:"NavigationButtonsActive",onClick:function(){t(!0),c(!0)}},n.length," \u043b\u044e\u0434\u0435\u0439"),r.a.createElement("button",{id:"friendsButton",className:"NavigationButtonsDefault",onClick:function(){t(!1),c(!1)}},a.length," \u0434\u0440\u0443\u0433"))},d=function(e){return e.list.map((function(e){return r.a.createElement("div",{className:"ScrollContainerContent",key:e.key},r.a.createElement("div",{className:"ScrollPerson"},r.a.createElement("img",{src:e.imgLink,alt:"Person",className:"ScrollPeopleImg"}),r.a.createElement("div",null,e.firstName),r.a.createElement("div",{className:"Cirle"},e.commonPlacesCount)))}))},v=function(e){var t=e.list,n="\u042f \u043e \u043c\u043e\u0451\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438";return t.map((function(e){return r.a.createElement("div",{className:"PersonContainer"},r.a.createElement("div",{className:"Person",key:e.key},r.a.createElement("img",{src:e.imgLink,alt:"Person photo"}),r.a.createElement("div",{className:"PersonData"},r.a.createElement("div",{className:"PersonName"},r.a.createElement("b",null,e.firstName+" "+e.lastName)),n.length>26&&r.a.createElement("div",{className:"PersonPlacesList"},n.slice(0,26)+".."),!(n.length>26)&&r.a.createElement("div",{className:"PersonPlacesList"},n))),r.a.createElement("div",{className:"BottomLine"}))}))},E=(n(236),function(e){var t=e.go,n=e.left,a=e.right;return r.a.createElement("div",{className:"App-bottom"},r.a.createElement("div",{className:"BottomLeftButton",onClick:t,"data-to":n},r.a.createElement("div",null)),r.a.createElement("div",{className:"BottomRightButton",onClick:t,"data-to":a},r.a.createElement("div",null)))}),g=(n(63),n(237),[{key:"1",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"2",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"3",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"4",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"5",imgLink:"https://sun9-67.userapi.com/c824204/v824204590/aca4d/Xl3J1Oyq1EU.jpg",firstName:"\u041d\u0438\u043a\u0438\u0442\u0430",lastName:"\u0411\u0430\u0448\u043a\u0438\u043d",commonPlacesCount:1,commonPlaces:["\u041a\u043e\u043d\u0446\u0435\u0440\u0442 \u0417\u0430\u043c\u0430\u044f"]},{key:"6",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"7",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]},{key:"8",imgLink:"https://sun9-45.userapi.com/c854528/v854528685/d255a/ooAN1guMTAc.jpg",firstName:"\u0414\u0430\u043d\u0438\u043b\u0430",lastName:"\u0421\u0435\u0440\u0433\u0430\u0447\u0435\u0432",commonPlacesCount:1,commonPlaces:["\u0420\u043e\u043a"]},{key:"9",imgLink:"https://sun9-44.userapi.com/c848536/v848536553/153b99/ypLiVUE1jZA.jpg",firstName:"\u0418\u043b\u044c\u044f",lastName:"\u041a\u0443\u0440\u043d\u0430\u043a\u043e\u0432",commonPlacesCount:1,commonPlaces:["\u0422\u0440\u0435\u043f"]}]),b=[{key:"0",imgLink:"https://sun9-17.userapi.com/c841322/v841322634/36d69/IrmwPwh6tlI.jpg",firstName:"\u0410\u0440\u0441\u0435\u043d\u0438\u0439",lastName:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446\u043a\u0438\u0439",commonPlacesCount:4,commonPlaces:["\u042d\u043b\u0434\u0436\u0435\u0439","\u0422\u0438\u043c\u0430\u0442\u0438","\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u043a\u0440\u0438\u043f\u0442\u043e\u043d\u0438\u0442","AC/DC"]}],N=n(36),y=n.n(N),w=function(e){var t=e.id,n=e.go,c=Object(a.useState)("true"),s=Object(p.a)(c,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(y.a,{id:t},r.a.createElement(h,{text:t}),r.a.createElement("div",{className:"HeaderLine"}),r.a.createElement("div",{className:"Head"},r.a.createElement("p",null,"\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f")),r.a.createElement(f,{stateList:i,stateRefresh:function(e){o(e)},matchedList:g,friendsList:b}),r.a.createElement("div",{className:"ScrollContainer"},r.a.createElement(d,{list:i?g:b})),r.a.createElement("div",{className:"Head Dialog"},r.a.createElement("p",null,"\u0414\u0438\u0430\u043b\u043e\u0433\u0438")),r.a.createElement("div",{className:"ListContainer"},r.a.createElement(v,{list:i?g:b})),r.a.createElement(E,{go:n,left:"swipe",right:"personal"}))},S=(n(251),n(45)),j=n(46),k=n(48),O=n(47),x=n(37),P=n(49),I=(n(252),n(253),function(e){var t=e.horizontalShift,n=e.verticalShift,a=e.hasMargin,c=e.isUpperTouch,s=e.cardInfo,i={transform:"rotate("+(c?-1:1)*t/15+"deg) translate("+t+"px, "+n+"px)",transition:e.isTransition?"0.2s":""};a&&(i["margin-top"]="-80vmax");var o=Math.min(Math.abs(t)/50,1),l={left:{opacity:t<0?o:0},right:{opacity:t>0?o:0}};return r.a.createElement("div",{className:"Swipe-content",style:i},r.a.createElement("div",{className:"Swipe-content-up"},r.a.createElement("div",{className:"Swipe-content-up-labels"},r.a.createElement("div",{style:l.right,className:"Swipe-right-label choice-label"},"\u041a\u0440\u0443\u0442\u043e"),r.a.createElement("div",{style:l.left,className:"Swipe-left-label choice-label"},"\u041e\u0442\u0441\u0442\u043e\u0439")),r.a.createElement("img",{className:"Swipe-content-up-image",src:s.images[0].image})),r.a.createElement("div",{className:"Swipe-content-down"},r.a.createElement("p",{id:"Font-bold"},r.a.createElement("b",null,s.short_title)),r.a.createElement("p",null,r.a.createElement("b",null,"4")," \u0430\u043f\u0440\u0435\u043b\u044f, \u0441\u0443\u0431\u0431\u043e\u0442\u0430, ",r.a.createElement("b",null,"20:00")),r.a.createElement("p",null,r.a.createElement("b",null,"20")," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0438\u0434\u0451\u0442 - ",r.a.createElement("b",null,"1")," \u0434\u0440\u0443\u0433")))}),T=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(k.a)(this,Object(O.a)(t).call(this,e))).componentDidMount=function(){n.setState({height:650})},n.onTouch=function(e){for(var t=e.changedTouches,a=0;a<t.length;a++){var r=n.state.currentX,c=n.state.currentY,s={currentX:t[a].clientX,currentY:t[a].clientY};n.state.isFirstTouch?(s.isUpperTouch=t[a].clientY>n.state.height/2,s.isFirstTouch=!1):(s.horizontalShift=n.state.horizontalShift+t[a].clientX-r,s.verticalShift=n.state.verticalShift+t[a].clientY-c),n.setState(s)}},n.onTouchStart=function(e){e.preventDefault(),n.setState({isFirstTouch:!0,isSwiping:!0,isTransition:!1})},n.onTouchEnd=function(e){if(Math.abs(n.state.horizontalShift)>100){var t=n.state.horizontalShift>0;n.setState({isTransition:!0}),n.setState({horizontalShift:5*n.state.horizontalShift,verticalShift:5*n.state.verticalShift});var a=Object(x.a)(n);setTimeout((function(){a.setState({isTransition:!1,horizontalShift:0,verticalShift:0,currentX:0,currentY:0}),a.props.onSwipeEnd(t)}),400)}else n.setState({horizontalShift:0,verticalShift:0,currentX:0,currentY:0,isSwiping:!1,isTransition:!0})},n.state={currentX:0,currentY:0,horizontalShift:0,verticalShift:0,isFirstTouch:!0,isSwiping:!1,height:0},n.viewRef=r.a.createRef(),n}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{ref:this.viewRef,className:"Swipe-main",onTouchMove:this.onTouch,onTouchEnd:this.onTouchEnd,onTouchStart:this.onTouchStart},r.a.createElement(I,{cardInfo:this.props.cardInfo,isSwiping:this.state.isSwiping,horizontalShift:this.state.horizontalShift,verticalShift:this.state.verticalShift,isUpperTouch:this.state.isUpperTouch,isTransition:this.state.isTransition}))}}]),t}(a.Component),C=n(35);function L(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C.url+"/user/"+t+"/events/ratings",e.next=3,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{event_id:n,is_liked:a}])});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(k.a)(this,Object(O.a)(t).call(this,e))).onSwipeEnd=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L("81818650",this.props.events[this.state.currentIndex].id,t),5===this.state.currentIndex&&this.props.loadEvents(),9!==this.state.currentIndex){e.next=5;break}return e.next=5,this.props.updateEvents();case 5:this.setState({currentIndex:this.nextIndex()});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.nextIndex=function(){return 9===n.state.currentIndex?0:n.state.currentIndex+1},n.state={currentIndex:0},n.onSwipeEnd=n.onSwipeEnd.bind(Object(x.a)(n)),n}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return 0!==this.props.events.length?r.a.createElement("div",null,r.a.createElement(T,{cardInfo:this.props.events[this.state.currentIndex],onSwipeEnd:this.onSwipeEnd}),r.a.createElement(I,{hasMargin:!0,cardInfo:this.props.events[this.nextIndex()]})):r.a.createElement("div",null)}}]),t}(a.Component);function _(e){return D.apply(this,arguments)}function D(){return(D=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.url+"/user/"+t+"/events/selection?category_id=1&category_id=6","test"==t&&(n=C.url+"/user/"+t+"/events"),e.next=4,fetch(n,{method:"GET"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(e){var t=e.id,n=e.go,c=(e.user,Object(a.useState)([])),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)([]),f=Object(p.a)(l,2),d=f[0],v=f[1];function g(){return(g=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("81818650");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,v(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(d);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("81818650");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}()}),[]),r.a.createElement(y.a,{id:t},r.a.createElement(h,{text:t}),r.a.createElement("div",{className:"HeaderLine"}),r.a.createElement(A,{events:i,loadEvents:function(){return g.apply(this,arguments)},updateEvents:function(){return b.apply(this,arguments)}}),r.a.createElement(E,{go:n,left:"personal",right:"matches"}))},U=n(50),X=(n(254),function(e){var t=e.id,n=e.go,c=Object(a.useState)(null),s=Object(p.a)(c,2),i=s[0],l=s[1],f=Object(a.useState)(null),d=Object(p.a)(f,2),v=d[0],g=d[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetAuthToken",{app_id:7197573,scope:"friends"});case 2:t=e.sent,g(t.access_token);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[]),r.a.createElement(y.a,{id:t},r.a.createElement(h,{text:t}),r.a.createElement("div",{className:"HeaderLine"}),r.a.createElement("div",{className:"PersonalContent"},r.a.createElement("div",{className:"PersonalBlock"},i&&r.a.createElement("div",{className:"PersonalData"},r.a.createElement("img",{src:i.photo_200?i.photo_200:null,alt:"Person"}),r.a.createElement("p",null,i.first_name?i.first_name:"",i.last_name?" "+i.last_name:""),v&&r.a.createElement("p",null,v)))),r.a.createElement(E,{go:n,left:"matches",right:"swipe"}))});n(255);function M(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(m.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(C.url,"/user/identify?user_id=").concat(t,"&access_token=").concat(n),e.next=3,fetch(a,{method:"GET"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){var e=Object(a.useState)("panels"),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),i=Object(p.a)(s,2),l=i[0],h=i[1],f=Object(a.useState)(null),d=Object(p.a)(f,2),v=d[0],E=d[1],g=Object(a.useState)(1),b=Object(p.a)(g,2),N=b[0],y=b[1],S=function(e){c(e.currentTarget.dataset.to)};return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.sendPromise("VKWebAppGetAuthToken",{app_id:7197573,scope:"friends"});case 2:t=e.sent,h(t.access_token);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){return function(){return t.apply(this,arguments)}().then((function(e){return M(v.id,l).then((function(e){return console.log(e)}))}))})),M("USER_ID","TOKEN").then((function(e){return console.log(e)}))}),[]),r.a.createElement(U.c,{activePanel:n},r.a.createElement(U.b,{id:"panels"},r.a.createElement(U.a,{slideWidth:"100%",style:{height:"100vmax"},bullets:"dark",slideIndex:N,onChange:function(e){e!==N&&y(e)}},r.a.createElement(X,{id:"personal",go:S}),r.a.createElement(z,{user:v,id:"swipe",go:S}),r.a.createElement(w,{id:"matches",go:S}))))};o.a.send("VKWebAppInit"),s.a.render(r.a.createElement(J,null),document.getElementById("root"))},35:function(e){e.exports=JSON.parse('{"url":"http://localhost:8080/culter"}')},63:function(e,t,n){}},[[156,1,2]]]);
//# sourceMappingURL=main.e521843d.chunk.js.map