(this.webpackJsonpculter=this.webpackJsonpculter||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"personal":"personal","grid":"grid","events":"events","people":"people","matches":"matches"}')},100:function(e,t,a){e.exports=a.p+"static/media/filter.84137ab6.svg"},101:function(e,t,a){e.exports=a.p+"static/media/chatGrey.01b80399.svg"},102:function(e,t,a){e.exports=a.p+"static/media/peopleGrey.89b02bab.svg"},103:function(e,t,a){e.exports=a.p+"static/media/gridGrey.e698b3c3.svg"},104:function(e,t,a){e.exports=a.p+"static/media/eventsGrey.451737d0.svg"},105:function(e,t,a){e.exports=a.p+"static/media/userGrey.7612f005.svg"},106:function(e,t,a){e.exports=a.p+"static/media/gridRed.2dc70435.svg"},107:function(e,t,a){e.exports=a.p+"static/media/userRed.2079daaf.svg"},108:function(e,t,a){e.exports=a.p+"static/media/defaultEventImage.ca717777.jpg"},109:function(e,t,a){e.exports=a.p+"static/media/preloader.3c9d0119.svg"},110:function(e,t,a){e.exports=a.p+"static/media/messageRed.5d681222.svg"},111:function(e,t,a){e.exports=a.p+"static/media/matchesArrow.24f07fbc.svg"},112:function(e){e.exports=JSON.parse('{"user_id":"81818650"}')},114:function(e,t,a){e.exports=a(221)},197:function(e,t,a){},198:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);a(115),a(142),a(144),a(145),a(147),a(148),a(149),a(150),a(151),a(152),a(153),a(154),a(156),a(157),a(158),a(159),a(160),a(161),a(162),a(163),a(164),a(165),a(167),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(175),a(176),a(177),a(178),a(179),a(180),a(181),a(182),a(183),a(184);var n=a(0),r=a.n(n),c=a(36),i=a.n(c),s=a(37),o=a.n(s),l=a(1),u=a.n(l),m=a(113),d=a.n(m),p=a(7),f=(a(197),a(100)),v=a.n(f),h=function(e){var t="";switch(e.panelId){case"personal":t="\u041f\u0440\u043e\u0444\u0438\u043b\u044c";break;case"grid":case"events":t="\u0421\u043e\u0431\u044b\u0442\u0438\u044f";break;case"people":t="\u041b\u044e\u0434\u0438";break;case"matches":t="\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}return r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{className:"App-header-content"},r.a.createElement("p",null,"Culter")),r.a.createElement("div",{className:"App-header-panelTitle"},r.a.createElement("p",null,t),r.a.createElement("img",{src:v.a,alt:"filter"})))},E=(a(94),a(101)),g=a.n(E),b=a(102),S=a.n(b),y=a(103),w=a.n(y),x=a(104),N=a.n(x),_=a(105),O=a.n(_),k=a(31),T=a.n(k),I=a(50),C=a.n(I),P=a(106),j=a.n(P),z=a(51),A=a.n(z),D=a(107),F=a.n(D);function L(e){return{type:"CHANGE_PANEL",panel:e}}var M=a(30),R={events:[],page:0,size:20,index:0};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD":return e.events=t.events,e.page=1,e;case"LOAD":return e.events=e.events.concat(t.events),e.page=e.page+1,e;case"SET_INDEX":return e.index=t.index,e;default:return e}},B={user:null};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHORIZED_USER":return e.user=t.user,e;default:return e}},H={people:[],page:0,size:20,index:0};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PEOPLE_RELOAD":return e.people=e.people.concat(t.people),e.page=Math.trunc(e.people.length/e.size),e;case"PEOPLE_LOAD":var a=t.people,n=a.length,r=e.people.length%e.size,c=a.slice(r,n);return e.people=e.people.concat(c),e.page=Math.trunc(e.people.length/e.size),e;case"PEOPLE_SET_INDEX":return e.index=t.index,e;default:return e}},V={active:"events"};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PANEL":return e.active=t.panel,e;default:return e}},K={matches:[],page:0,size:15,eventsPageSize:10};function Y(e,t,a){var n=e.matches.findIndex((function(e){return e.id===t})),r=e.matches.slice();return a(r[n]),e.matches=r,e}var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MATCHES_RELOAD":return e.matches=e.matches.concat(t.matches),e.page=Math.trunc(e.matches.length/e.size),e;case"MATCHES_LOAD":var a=t.matches,n=a.length,r=e.matches.length%e.size,c=a.slice(r,n);return e.matches=e.matches.concat(c),e.page=Math.trunc(e.matches.length/e.size),e;case"UPDATE_COMMON_EVENTS":var i=t.otherUserId,s=t.newEvents;return e=Y(e,i,(function(e){e.commonEvents=s}));case"UPDATE_COUNT_COMMON_EVENTS":var o=t.otherUserId,l=t.commonEventsCount;return e=Y(e,o,(function(e){e.count_common_events=l}));default:return e}},Z=Object(M.b)({eventsState:U,userState:G,peopleState:J,panelState:X,matchesState:W}),q=Object(M.c)(Z),Q=a(10),$=function(e){var t=e.panel,a=e.activePanel,n=e.activeImage,c=e.disabledImage,i=e.onClick,s=e.text;return r.a.createElement("div",{className:"Bottom-button",onClick:i,"data-to":t},r.a.createElement("img",{src:a===t?n:c,alt:t}),r.a.createElement("p",{className:a===t?"active":""},s))},ee=function(){var e=Object(p.b)((function(e){return e.panelState.active})),t=function(e){q.dispatch(L(e.currentTarget.dataset.to))};return r.a.createElement("div",{className:"App-bottom"},r.a.createElement($,{onClick:t,panel:Q.personal,activePanel:e,activeImage:F.a,disabledImage:O.a,text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),r.a.createElement($,{onClick:t,panel:Q.grid,activePanel:e,activeImage:j.a,disabledImage:w.a,text:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0438"}),r.a.createElement($,{onClick:t,panel:Q.events,activePanel:e,activeImage:A.a,disabledImage:N.a,text:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f"}),r.a.createElement($,{onClick:t,panel:Q.people,activePanel:e,activeImage:C.a,disabledImage:S.a,text:"\u041b\u044e\u0434\u0438"}),r.a.createElement($,{onClick:t,panel:Q.matches,activePanel:e,activeImage:T.a,disabledImage:g.a,text:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f"}))},te=a(18),ae=a.n(te),ne=(a(198),function(e){var t=e.id,a=Object(p.b)((function(e){return e.userState.user}));return Object(n.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0,document.body.style.setProperty("--background_page","white");case 2:case"end":return e.stop()}}))}),[]),r.a.createElement(ae.a,{id:t},r.a.createElement(h,{panelId:t}),r.a.createElement("div",{className:"PersonalContent"},r.a.createElement("div",{className:"PersonalBlock"},a&&r.a.createElement("div",{className:"PersonalData"},r.a.createElement("img",{src:a.photo_200?a.photo_200:null,alt:"Person"}),r.a.createElement("p",null,a.first_name?a.first_name:""),r.a.createElement("p",null,a.last_name?" "+a.last_name:"")))),r.a.createElement(ee,null))}),re=a(19),ce=(a(35),a(212),a(213),a(29),function(e){var t=e.event,a=t.start_date&&t.start_time,n="",c="",i="",s="";return a&&(c=t.start_time.slice(0,t.start_time.length-3),i=(n=new Date(t.start_date)).toLocaleDateString("ru-Ru",{weekday:"long"}),s=n.toLocaleDateString("ru-Ru",{month:"long",day:"numeric"})),r.a.createElement("div",{className:"Swipe-content-down-container"},r.a.createElement("div",{className:"Swipe-content-down-center"},r.a.createElement("p",null,t.short_title),r.a.createElement("div",{className:"Swipe-content-down-center-date"},a&&r.a.createElement("p",null," ",s),a&&r.a.createElement("p",null,c," ",i," "))))}),ie=function(e){var t=e.person;return r.a.createElement("div",{className:"Swipe-content-down-container"},r.a.createElement("div",{className:"Swipe-content-down-center user"},r.a.createElement("p",null,t.first_name),r.a.createElement("p",null,"\u041e\u0431\u0449\u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439: ",r.a.createElement("b",null,t.count_common_events))))},se=function(e){var t=e.horizontalShift,a=Math.min(Math.abs(t)/50,1),n={left:{opacity:t<0?a:0},right:{opacity:t>0?a:0}};return r.a.createElement("div",{className:"Swipe-content-up-labels"},r.a.createElement("div",{style:n.right,className:"Swipe-right-label choice-label"},"Like"),r.a.createElement("div",{style:n.left,className:"Swipe-left-label choice-label"},"Pass"))},oe=function(){return r.a.createElement("div",{className:"Swipe-content-down-container"},r.a.createElement("div",{className:"Swipe-content-down-center"},r.a.createElement("p",null,"\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c"),r.a.createElement("p",null,r.a.createElement("div",{className:"Swipe-content-down-image"},r.a.createElement("img",{src:C.a,alt:"people icon"})),"\xa0 \u041d\u0430\u0439\u0434\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e \u043d\u0430 \u0438\u0432\u0435\u043d\u0442"),r.a.createElement("p",null,r.a.createElement("div",{className:"Swipe-content-down-image"},r.a.createElement("img",{src:T.a,alt:"chat icon"})),"\xa0 \u041f\u043e\u0437\u043e\u0432\u0438 \u043b\u044e\u0434\u0435\u0439 \u043d\u0430 \u0438\u0432\u0435\u043d\u0442")))},le=function(){return r.a.createElement("div",{className:"Swipe-content-down-container"},r.a.createElement("div",{className:"Swipe-content-down-center"},r.a.createElement("p",null,"\u041b\u044e\u0434\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c"),r.a.createElement("p",null,r.a.createElement("div",{className:"Swipe-content-down-image"},r.a.createElement("img",{src:A.a,alt:"events icon"})),"\xa0 \u0412\u044b\u0431\u0435\u0440\u0438 \u043a\u0443\u0434\u0430 \u043f\u043e\u0439\u0442\u0438"),r.a.createElement("p",null,r.a.createElement("div",{className:"Swipe-content-down-image"},r.a.createElement("img",{src:T.a,alt:"chat icon"})),"\xa0 \u041f\u043e\u0437\u043e\u0432\u0438 \u043b\u044e\u0434\u0435\u0439 \u043d\u0430 \u0438\u0432\u0435\u043d\u0442")))},ue=a(108),me=a.n(ue),de=function(e){var t=e.swipeInfo,a=e.cardInfo,n=t.hasMargin,c=t.horizontalShift,i=(t.verticalShift,t.isUpperTouch,t.isTransition,{});n&&(i.position="absolute",i.zIndex="10");var s=a.hasOwnProperty("isEnd"),o=s&&a.end_type,l=a.hasOwnProperty("short_title"),u=s?me.a:l?a.images[0].image:a.photo_400_orig;return r.a.createElement("div",{className:"Swipe-content",style:i},r.a.createElement("div",{className:"Swipe-content-up"},r.a.createElement(se,{horizontalShift:c}),r.a.createElement("img",{className:"Swipe-content-up-image",src:u,alt:"Card"}),r.a.createElement("div",{className:"Swipe-content-down"},s?o?r.a.createElement(oe,null):r.a.createElement(le,null):l?r.a.createElement(ce,{event:a}):r.a.createElement(ie,{person:a}))))},pe=function(e){var t=e.cardInfo,a=e.onSwipeEnd,c={horizontalShift:0,verticalShift:0},i=null,s=0,o=0,l=!0,m=!1,d=!1,p=!1,f={horizontalShift:0,verticalShift:0};Object(n.useEffect)((function(){v()}),[]);function v(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:i=i||document.getElementById("card-id").firstChild,e=(p?1:-1)*f.horizontalShift/15,i.style.transform="rotate(".concat(e,"deg) translate(").concat(f.horizontalShift,"px, ").concat(f.verticalShift,"px)"),i.style.transition=d?"0.2s":"";case 5:case"end":return t.stop()}}))}var h=function(e){var t=s,a=o;s=e.clientX,o=e.clientY,l?(p=e.clientY<300,l=!1):f={horizontalShift:f.horizontalShift+e.clientX-t,verticalShift:f.verticalShift+e.clientY-a},v()},E=function(){d=!0,c.horizontalShift=5*f.horizontalShift,c.verticalShift=5*f.verticalShift,f=c,v()},g=function(e){d=e,m=!1,c.horizontalShift=0,c.verticalShift=0,f=c,o=0,s=0,v()},b={isSwiping:m,hasMargin:!1,horizontalShift:f.horizontalShift,verticalShift:f.verticalShift,isUpperTouch:p,isTransition:d};return r.a.createElement("div",{id:"card-id",className:"Swipe-main",onTouchMove:function(e){for(var t=e.changedTouches,a=0;a<t.length;a++)h(t[a])},onTouchEnd:function(e){if(Math.abs(f.horizontalShift)>100){var t=f.horizontalShift>0;E(),setTimeout((function(){g(!1),a(t)}),400)}else g(!0)},onTouchStart:function(e){l=!0,m=!0,d=!1,v()}},r.a.createElement(de,{swipeInfo:b,cardInfo:t}))},fe=function(e){var t=e.index,a=e.setIndex,n=e.cards,c=e.loadCards,i=e.setRateBy,s=e.isEventDeck,o=t,l=o+1,m={isEnd:!0,end_type:s};return n.length>0&&o<n.length?r.a.createElement("div",null,r.a.createElement(pe,{cardInfo:n[o],onSwipeEnd:function(e){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:i(n[t].id,e),n.length-t<10&&c(),q.dispatch(a(t+1));case 3:case"end":return r.stop()}}))}}),l<n.length?r.a.createElement(de,{swipeInfo:{hasMargin:!0},cardInfo:n[l]}):r.a.createElement("div",null)):r.a.createElement("div",null,r.a.createElement(pe,{cardInfo:m,onSwipeEnd:function(){}}))};function ve(e){return{type:"SET_INDEX",index:e}}var he=a(9);function Ee(e){return 200===e.status}function ge(e,t,a,n,r){var c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return c=ye(e,t,a,n,r),i.next=3,u.a.awrap(Se(c));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}))}function be(e,t,a,n){var r;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=we(e,t,a,n),c.next=3,u.a.awrap(Se(r));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}))}function Se(e){var t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(fetch(e,{method:"GET"}));case 2:if(Ee(t=r.sent)){r.next=5;break}return r.abrupt("return",[]);case 5:return r.next=7,u.a.awrap(t.json());case 7:return a=r.sent,n=a.content,n.forEach((function(e){e.images.forEach((function(e){e.image=he.images_url+e.image}))})),a.content=n,r.abrupt("return",a);case 12:case"end":return r.stop()}}))}function ye(e,t,a,n,r){var c="category_id="+t.join("&category_id=");return he.url+"/user/"+e+"/events/selection?"+c+"&is_personal="+a+"&page="+n+"&size="+r}function we(e,t,a,n){return"".concat(he.url,"/user/").concat(e)+"/common/events?anotherUserId=".concat(t)+"&page="+a+"&size="+n}function xe(){var e,t,a,n,r,c,i,s,o=arguments;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:[1,6],t=o.length>1&&void 0!==o[1]&&o[1],a=!(o.length>2&&void 0!==o[2])||o[2],n=q.getState(),r=n.userState.user.id,c=n.eventsState.page,i=n.eventsState.size,l.next=9,u.a.awrap(ge(r,e,a,c,i));case 9:s=l.sent,Oe(t,s.content);case 11:case"end":return l.stop()}}))}function Ne(e,t){t>0&&q.dispatch(function(e,t){return{type:"UPDATE_COUNT_COMMON_EVENTS",otherUserId:e,commonEventsCount:t}}(e,t))}function _e(e,t){0!==t.length&&q.dispatch(function(e,t){return{type:"UPDATE_COMMON_EVENTS",otherUserId:e,newEvents:t}}(e,t))}function Oe(e,t){e?q.dispatch({type:"RELOAD",events:t}):0!==t.length&&q.dispatch(function(e){return{type:"LOAD",events:e}}(t))}function ke(e,t,a){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=he.url+"/user/"+e+"/events/ratings",r.abrupt("return",fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{event_id:t,is_liked:a}])}));case 2:case"end":return r.stop()}}))}function Te(e,t,a){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=he.url+"/user/"+e+"/users/ratings",r.abrupt("return",fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{user_id:t,is_liked:a}])}));case 2:case"end":return r.stop()}}))}function Ie(e,t){var a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Pe(),n.abrupt("return",ke(a,e,t));case 2:case"end":return n.stop()}}))}function Ce(e,t){var a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Pe(),n.abrupt("return",Te(a,e,t));case 2:case"end":return n.stop()}}))}function Pe(){return q.getState().userState.user.id}var je=a(109),ze=a.n(je),Ae=function(e){var t=e.id,a=Object(p.b)((function(e){return e.userState.user})),c=Object(p.b)((function(e){return e.eventsState.events})),i=Object(p.b)((function(e){return e.eventsState.index})),s=Object(n.useState)(["3","8"]),o=Object(re.a)(s,2),l=o[0],m=(o[1],Object(n.useState)(!1)),d=Object(re.a)(m,2),f=d[0],v=d[1];function E(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(xe(l));case 2:case"end":return e.stop()}}))}return Object(n.useEffect)((function(){a&&0===c.length&&(v(!0),E().then((function(){v(!1)})))}),[a]),Object(n.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0,document.body.style.setProperty("--background_page","white");case 2:case"end":return e.stop()}}))}),[]),r.a.createElement(ae.a,{id:t},r.a.createElement(h,{panelId:t}),r.a.createElement("div",{className:"container"},!f&&r.a.createElement(fe,{isEventDeck:!0,index:i,setIndex:ve,cards:c,loadCards:E,setRateBy:function(e,t){return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:Ie(e,t);case 1:case"end":return a.stop()}}))}}),f&&r.a.createElement("div",{className:"spinner-preloader-forPeople"},r.a.createElement("img",{src:ze.a,alt:"loading spinner"}))),r.a.createElement(ee,null))},De=function(e){var t=e.list,a=function(e){document.location.href="https://vk.com/id"+e.currentTarget.dataset.userid};return t.map((function(e){return r.a.createElement("div",{className:"ScrollContainerContent",key:e.id},r.a.createElement("div",{className:"ScrollPerson",onClick:a,"data-userid":e.id},r.a.createElement("img",{src:e.photo_400_orig,alt:"Person",className:"ScrollPeopleImg"}),r.a.createElement("div",null,e.first_name),r.a.createElement("div",{className:"Cirle"},e.count_common_events)))}))},Fe=function(e){var t=e.events;return t.map((function(e){return r.a.createElement("div",{className:"eventContainer",key:e.id},r.a.createElement("div",{className:"poster"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:e.images[0].image,alt:e.short_title})),r.a.createElement("div",{className:"annotation"},r.a.createElement("p",null,(t=e.start_date)?new Date(t).toLocaleDateString("ru-Ru",{month:"long",day:"numeric"}):""),r.a.createElement("p",null,e.place_short_title))),r.a.createElement("div",{className:"name"},r.a.createElement("p",null,e.short_title)));var t}))},Le=a(110),Me=a.n(Le),Re=a(111),Ue=a.n(Re),Be=function(e){var t=e.list,a=Object(n.useState)(null),c=Object(re.a)(a,2),i=c[0],s=c[1],o=function(e){i&&i.dataset.id!==e.currentTarget.dataset.id&&l(i,!1);var t=e.currentTarget.parentElement.children[3].style.height,a="0vmax"===t||""===t;a&&function(e){var t,a,n,r,c,i,s;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=q.getState(),a=t.userState.user.id,n=t.matchesState.matches,r=n.find((function(t){return t.id===e})),c=r.page,i=t.matchesState.eventsPageSize,o.next=8,u.a.awrap(be(a,e,c,i));case 8:s=o.sent,_e(e,s.content),Ne(e,s.totalElements);case 11:case"end":return o.stop()}}))}(parseInt(e.currentTarget.dataset.id));l(e.currentTarget,a),s(e.currentTarget)},l=function(e,t){e.parentElement.children[3].style.height=t?"20.5vmax":"0vmax";var a=e.parentElement.getElementsByClassName("arrow")[0];t?a.classList.add("arrowActive"):a.classList.remove("arrowActive")},m=function(e){document.location.href="https://vk.com/im?sel="+e.currentTarget.dataset.userid},d=function(e){document.location.href="https://vk.com/id"+e.currentTarget.dataset.userid};return t.map((function(e){return r.a.createElement("div",{className:"PersonContainer",key:e.id},r.a.createElement("div",{className:"Person",key:e.key},r.a.createElement("img",{className:"avatar",src:e.photo_400_orig,onClick:d,alt:"Person"}),r.a.createElement("div",{className:"messageTitle",onClick:m,"data-userid":e.id},r.a.createElement("img",{src:Me.a,alt:"message"}),r.a.createElement("p",null,"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c")),r.a.createElement("div",{className:"personData",onClick:o,"data-id":e.id},r.a.createElement("div",{className:"name"},e.first_name),r.a.createElement("div",{className:"events"},e.count_common_events," \u043e\u0431\u0449\u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439")),r.a.createElement("div",{className:"eventsContainer"},r.a.createElement("div",{className:"events"},r.a.createElement(Fe,{events:e.commonEvents.length>0?e.commonEvents:[]}))),r.a.createElement("img",{className:"arrow",onClick:o,"data-id":e.id,src:Ue.a,alt:"icon"})))}))};a(214);function Ge(e,t,a){var n,r,c,i;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=He(e,t,a),s.next=3,u.a.awrap(fetch(n,{method:"GET"}));case 3:if(200===(r=s.sent).status){s.next=6;break}return s.abrupt("return",[]);case 6:return s.next=8,u.a.awrap(r.json());case 8:return c=s.sent,Je(i=c.content),Ve(i),s.abrupt("return",i);case 13:case"end":return s.stop()}}))}function He(e,t,a){return he.url+"/user/"+e+"/users/ratings?&page="+t+"&size="+a}function Je(e){e.forEach((function(e){e.commonEvents=[],e.page=0}))}function Ve(e){e.forEach((function(e){e.photo_400_orig||(e.photo_400_orig="https://vk.com/images/camera_200.png?ava=1")}))}function Xe(){var e,t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=q.getState(),t=e.userState.user.id,a=e.peopleState.page,n=e.peopleState.size,r.next=6,u.a.awrap(Ge(t,a,n));case 6:Ke(r.sent);case 8:case"end":return r.stop()}}))}function Ke(e){0!==e.length&&q.dispatch({type:"MATCHES_LOAD",matches:e})}var Ye=function(e){var t=e.id,a=Object(p.b)((function(e){return e.userState.user})),c=Object(p.b)((function(e){return e.matchesState.matches}));return Object(n.useEffect)((function(){a&&u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(Xe());case 2:case"end":return e.stop()}}))}),[a]),Object(n.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0,document.body.style.setProperty("--background_page","white");case 2:case"end":return e.stop()}}))}),[]),r.a.createElement(ae.a,{id:t},r.a.createElement(h,{panelId:t}),r.a.createElement("div",{className:"Head"},r.a.createElement("p",null,1!==c.length?c.length+" \u043d\u043e\u0432\u044b\u0445 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439":c.length+" \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435")),r.a.createElement("div",{className:"ScrollContainer"},c.length>0?r.a.createElement(De,{list:c}):r.a.createElement("div",null)),r.a.createElement("div",{className:"Dialogues"},r.a.createElement("p",null,"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f")),r.a.createElement("div",{className:"ListContainer"},c.length>0?r.a.createElement(Be,{list:c}):r.a.createElement("div",null)),r.a.createElement(ee,null))},We=(a(98),function(e){var t=e.data,a=function(e){var t=Number(e.currentTarget.dataset.index);q.dispatch(ve(t)),q.dispatch(L(Q.events))};return t.map((function(e,t){return r.a.createElement("div",{className:"Grid-eventCell","data-name":e.name?e.name:"unknown","data-to":"swipe","data-index":t,key:t,onClick:a},r.a.createElement("img",{src:e.images[0].image?e.images[0].image:null,alt:e.name?e.name:"unknown"}))}))}),Ze=function(e){var t=e.id,a=Object(p.b)((function(e){return e.userState.user})),c=Object(p.b)((function(e){return e.eventsState.events})),i=Object(n.useState)(["3","8","27","15","12"]),s=Object(re.a)(i,2),o=s[0],l=s[1],m=Object(n.useState)(!1),d=Object(re.a)(m,2),f=d[0],v=d[1],E=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(xe(o));case 2:v(!1);case 3:case"end":return e.stop()}}))};Object(n.useEffect)((function(){a&&0===c.length&&E()}),[a]),Object(n.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0,document.body.style.setProperty("--background_page","white");case 2:case"end":return e.stop()}}))}),[]);var g=function(e){var t=document.getElementById("filter_modal");"visible"===t.style.visibility&&u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.next=3,u.a.awrap(xe(o,!0));case 3:v(!1);case 4:case"end":return e.stop()}})),t.style.visibility="visible"===t.style.visibility?"hidden":"visible"},b=function(e){"false"===e.currentTarget.dataset.isactive?l(o.concat(e.currentTarget.dataset.id)):o.splice(o.indexOf(e.currentTarget.dataset.id),1),e.currentTarget.dataset.isactive="true"===e.currentTarget.dataset.isactive?"false":"true",e.currentTarget.children[0].classList.toggle("Filter-modal-categories-item-checkbox-disabled"),e.currentTarget.children[0].classList.toggle("Filter-modal-categories-item-checkbox-active")};return r.a.createElement(ae.a,{id:t},r.a.createElement(h,{panelId:t}),r.a.createElement("div",{className:"Grid-eventList",onScroll:function(e){var t=e.currentTarget;if(t.scrollHeight-2*t.clientHeight<=t.scrollTop)try{f||(v(!0),E())}catch(a){console.log(a)}}},c&&r.a.createElement(We,{data:c})),r.a.createElement("div",{className:"Filter",onClick:g},r.a.createElement("p",null,"\u0424\u0438\u043b\u044c\u0442\u0440")),r.a.createElement("div",{className:"Filter-modal",id:"filter_modal",style:{visibility:"hidden"},onClick:function(e){"filter_modal"===e.target.id&&g()}},r.a.createElement("div",{className:"Filter-modal-content"},r.a.createElement("div",{className:"Filter-modal-header"},r.a.createElement("p",null,"\u0424\u0438\u043b\u044c\u0442\u0440")),r.a.createElement("div",{className:"Filter-modal-categoriesTitle"},r.a.createElement("p",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),r.a.createElement("div",{className:"Filter-modal-categoriesTitleBottomLine"})),r.a.createElement("div",{className:"Filter-modal-categories"},r.a.createElement("div",{className:"Filter-modal-categories-item",onClick:b,"data-isactive":!0,"data-id":3},r.a.createElement("div",{className:"Filter-modal-categories-item-checkbox Filter-modal-categories-item-checkbox-active"}),r.a.createElement("p",{className:"Filter-modal-categories-item-name"},"\u041a\u043e\u043d\u0446\u0435\u0440\u0442\u044b")),r.a.createElement("div",{className:"Filter-modal-categories-item",onClick:b,"data-isactive":!0,"data-id":6},r.a.createElement("div",{className:"Filter-modal-categories-item-checkbox Filter-modal-categories-item-checkbox-active"}),r.a.createElement("p",{className:"Filter-modal-categories-item-name"},"\u0412\u044b\u0441\u0442\u0430\u0432\u043a\u0438")),r.a.createElement("div",{className:"Filter-modal-categories-item",onClick:b,"data-isactive":!0,"data-id":8},r.a.createElement("div",{className:"Filter-modal-categories-item-checkbox Filter-modal-categories-item-checkbox-active"}),r.a.createElement("p",{className:"Filter-modal-categories-item-name"},"\u0424\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u0438")),r.a.createElement("div",{className:"Filter-modal-categories-item",onClick:b,"data-isactive":!0,"data-id":12},r.a.createElement("div",{className:"Filter-modal-categories-item-checkbox Filter-modal-categories-item-checkbox-active"}),r.a.createElement("p",{className:"Filter-modal-categories-item-name"},"\u0412\u044b\u0441\u0442\u0430\u0432\u043a\u0438")),r.a.createElement("div",{className:"Filter-modal-categories-item",onClick:b,"data-isactive":!0,"data-id":27},r.a.createElement("div",{className:"Filter-modal-categories-item-checkbox Filter-modal-categories-item-checkbox-active"}),r.a.createElement("p",{className:"Filter-modal-categories-item-name"},"\u041d\u043e\u0447\u043d\u0430\u044f \u0436\u0438\u0437\u043d\u044c"))),r.a.createElement("div",{className:"Filter-modal-buttonOK",onClick:g},r.a.createElement("p",null,"\u041e\u041a")))),r.a.createElement(ee,null))};a(215);function qe(e){return{type:"PEOPLE_SET_INDEX",index:e}}function Qe(e,t,a,n){var r,c,i,s;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return r=$e(e,t,a),n.next=3,u.a.awrap(fetch(r,{method:"GET"}));case 3:if(200===(c=n.sent).status){n.next=6;break}return n.abrupt("return",[]);case 6:return n.next=8,u.a.awrap(c.json());case 8:return i=n.sent,s=i.content,n.abrupt("return",s);case 11:case"end":return n.stop()}}))}function $e(e,t,a){return he.url+"/user/"+e+"/users/all?&page="+t+"&size="+a}function et(){var e,t,a,n,r,c,i=arguments;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=i.length>0&&void 0!==i[0]&&i[0],t=q.getState(),a=t.userState.user.id,n=t.peopleState.page,r=t.peopleState.size,s.next=7,u.a.awrap(Qe(a,n,r));case 7:c=s.sent,tt(e,c);case 9:case"end":return s.stop()}}))}function tt(e,t){e?q.dispatch({type:"PEOPLE_RELOAD",people:t}):0!==t.length&&q.dispatch(function(e){return{type:"PEOPLE_LOAD",people:e}}(t))}var at=function(e){var t=e.id,a=Object(p.b)((function(e){return e.userState.user})),c=Object(p.b)((function(e){return e.peopleState.people})),i=Object(p.b)((function(e){return e.peopleState.index})),s=Object(n.useState)(!1),o=Object(re.a)(s,2),l=o[0],m=o[1];function d(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=5;break}return m(!0),e.next=4,u.a.awrap(et(0===c.length));case 4:m(!1);case 5:case"end":return e.stop()}}))}return Object(n.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).children[0].style.paddingTop=0,document.body.style.setProperty("--background_page","white");case 2:case"end":return e.stop()}})),a&&0===c.length&&d()}),[]),r.a.createElement(ae.a,{id:t},r.a.createElement(h,{panelId:t}),r.a.createElement(fe,{isEventDeck:!1,index:i,setIndex:qe,cards:c,loadCards:d,setRateBy:function(e,t){return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:Ce(e,t);case 1:case"end":return a.stop()}}))}}),r.a.createElement(ee,null))};a(216);function nt(e){return{type:"SET_AUTHORIZED_USER",user:e}}function rt(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t="".concat(he.url,"/user/identify?user_id=").concat(e.id),a.abrupt("return",fetch(t,{method:"GET"}));case 2:case"end":return a.stop()}}))}function ct(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(rt(e));case 2:200===t.sent.status&&q.dispatch(nt(e));case 4:case"end":return t.stop()}}))}var it=a(112),st=function(){var e=Object(p.b)((function(e){return e.panelState.active}));return Object(n.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!he.is_dev){t.next=4;break}t.t0={id:it.user_id},t.next=7;break;case 4:return t.next=6,u.a.awrap(o.a.sendPromise("VKWebAppGetUserInfo"));case 6:t.t0=t.sent;case 7:return e=t.t0,t.next=10,u.a.awrap(ct(e));case 10:case"end":return t.stop()}}))}()}),[]),r.a.createElement(d.a,{activePanel:e},r.a.createElement(ne,{id:Q.personal}),r.a.createElement(Ze,{id:Q.grid}),r.a.createElement(Ae,{id:Q.events}),r.a.createElement(at,{id:Q.people}),r.a.createElement(Ye,{id:Q.matches}))};o.a.send("VKWebAppInit"),i.a.render(r.a.createElement(p.a,{store:q},r.a.createElement(st,null)),document.getElementById("root"))},29:function(e,t,a){},31:function(e,t,a){e.exports=a.p+"static/media/chatRed.6ffa4715.svg"},35:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/peopleRed.333d01ba.svg"},51:function(e,t,a){e.exports=a.p+"static/media/eventsRed.08ccde92.svg"},9:function(e){e.exports=JSON.parse('{"url":"https://amolodetskiy.me:8080/culter","is_dev":false,"images_url":"https://amolodetskiy.me:8080/culter/event/images/"}')},94:function(e,t,a){},98:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.53592cf6.chunk.js.map